"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[740],{78649:function(ct,aa,j){j.r(aa),j.d(aa,{default:function(){return it}});var fa=j(97857),A=j.n(fa),pa=j(19632),Ca=j.n(pa),xa=j(5574),E=j.n(xa),O=j(67294),va=j(64082),ha=j(71577),ya=j(66476),H=j(2453),ta=j(49053),ga=j(74295),Aa=j.n(ga),ba=j(96486),Q=j.n(ba),Sa=j(51904),Ra=j(26713),wa=j(64240),e=j(85893),Fa=[{title:"Name",dataIndex:"name",key:"name",render:function(a){return(0,e.jsx)("a",{children:a})}},{title:"Age",dataIndex:"age",key:"age"},{title:"Address",dataIndex:"address",key:"address"},{title:"Tags",key:"tags",dataIndex:"tags",render:function(a,n){var c=n.tags;return(0,e.jsx)(e.Fragment,{children:c.map(function(m){var p=m.length>5?"geekblue":"green";return m==="loser"&&(p="volcano"),(0,e.jsx)(Sa.Z,{color:p,children:m.toUpperCase()},m)})})}},{title:"Action",key:"action",render:function(a,n){return(0,e.jsxs)(Ra.Z,{size:"middle",children:[(0,e.jsxs)("a",{children:["Invite ",n.name]}),(0,e.jsx)("a",{children:"Delete"})]})}}],Pa=[{key:"1",name:"John Brown",age:32,address:"New York No. 1 Lake Park",tags:["nice","developer"]},{key:"2",name:"Jim Green",age:42,address:"London No. 1 Lake Park",tags:["loser"]},{key:"3",name:"Joe Black",age:32,address:"Sydney No. 1 Lake Park",tags:["cool","teacher"]}],Ea=function(){return(0,e.jsx)(wa.Z,{columns:Fa,dataSource:Pa})},Ba=Ea,ka=j(96695),Z=j.n(ka),V=function(){return{countKey:"\u8FD130\u5929\u9500\u91CF",rankKey:"salesRanking",option:{title:"\u5546\u54C1\u9500\u91CF\u96C6\u4E2D\u5EA6",xAxisName:"\u9500\u91CF\u6392\u540D",yAxisItemNames:["\u9500\u91CF","\u9500\u91CF\u5360\u6BD4"]}}},T=j(78045),G=j(36934),ja=function(a){var n=new Array,c=(0,O.useState)({}),m=E()(c,2),p=m[0],b=m[1],R=(0,O.useState)(31104e6),f=E()(R,2),s=f[0],C=f[1];if(a.data){var t=0;a.data.forEach(function(y){var g=y[a.countKey];t+=g}),a.data.forEach(function(y){var g=y[a.countKey],x=y[a.rankKey],F={};F.salesRanking=x,F.salesCount=g,F.salesRatio=Number((g/t*100).toFixed(2));var D=Date.now();D<=y.timestamp+s?F.newProduct=1:F.newProduct=0,F.data=y,n.push(F)})}return n=Q().sortBy(n,"salesRanking"),p={toolbox:{feature:{dataView:{show:!0,readOnly:!1},restore:{show:!0},saveAsImage:{show:!0}}},tooltip:{trigger:"axis",axisPointer:{type:"none",show:!1},formatter:function(g){var x=g[0].data,F=["<span>".concat(x.data.\u5546\u54C1\u6807\u9898,"</span>"),"<b>ASIN: </b><span>".concat(x.data.ASIN,"</span>"),"<b>\u54C1\u724C: </b><span>".concat(x.data.\u54C1\u724C,"</span>"),"<b>\u8FD130\u5929\u9500\u91CF: </b><span>".concat(x.data.\u8FD130\u5929\u9500\u91CF,"</span>"),"<b>\u8BC4\u5206/Rating: </b><span>".concat(x.data.\u8BC4\u5206,"/").concat(x.data.\u8BC4\u5206\u6570,"</span>"),"<b>\u8FD130\u5929\u9500\u552E\u989D($): </b><span>".concat(x.data["\u8FD130\u5929\u9500\u552E\u989D($)"],"</span>"),"<b>\u9500\u91CF\u6392\u540D: </b><span>".concat(x.salesRanking,"</span>"),"<b>\u5356\u5BB6\u4FE1\u606F: </b><span>".concat(x.data.\u5356\u5BB6\u4FE1\u606F.replace("\u516C\u53F8\u540D\u79F0\uFF1A","").replace(`
\u529E\u516C\u5730\u5740\uFF1A
`,"/").replaceAll(`
`,","),"</span>"),"<b>\u9500\u91CF\u5360\u6BD4: </b><span>".concat(x.salesRatio,"%</span>"),"<b>\u4EF7\u683C($): </b><span>".concat(x.data["\u4EF7\u683C($)"],"</span>"),"<b>\u4E0A\u67B6\u65F6\u95F4: </b><span>".concat(x.data.\u4E0A\u67B6\u65F6\u95F4,"</span>"),"<b>\u914D\u9001\u65B9\u5F0F: </b><span>".concat(x.data.\u914D\u9001\u65B9\u5F0F,"</span>"),'<image src="'.concat(x.data.\u5546\u54C1\u4E3B\u56FE.text,'" width="100"/>')];return F.join("<br/>")},extraCssText:"max-width: 600px; white-space:pre-wrap"},legend:{data:[a.option.yAxisItemNames[1]],selectedMode:!1},dataZoom:[{type:"inside"},{type:"slider"}],xAxis:[{name:a.option.xAxisName,nameLocation:"start",nameGap:40,type:"category"}],yAxis:[{type:"value",name:a.option.yAxisItemNames[0]},{type:"value",name:a.option.yAxisItemNames[1],axisLabel:{formatter:"{value} %"}}],dataset:{source:n},visualMap:{type:"piecewise",show:!0,pieces:[{min:0,max:0,color:"#556fc5",label:a.option.yAxisItemNames[0]},{min:1,max:1,color:"#91cd77",label:"\u65B0\u54C1".concat(a.option.yAxisItemNames[0])}],seriesIndex:0,dimension:3,orient:"horizontal",selectedMode:!1,hoverLink:!1,left:"auto",bottom:"auto",top:0,inRange:{color:"#91cd77"},outOfRange:{color:"#556fc5"}},series:[{name:a.option.yAxisItemNames[0],type:"bar",encode:{x:"salesRanking",y:"salesCount"}},{name:a.option.yAxisItemNames[1],type:"line",yAxisIndex:1,tooltip:{valueFormatter:function(g){return"".concat(g," %")}},encode:{x:"salesRanking",y:"salesRatio"}}]},(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("div",{style:{overflow:"hidden",padding:"0 0 10px 0"},children:(0,e.jsxs)("div",{style:{float:"right",clear:"both"},children:[(0,e.jsx)("span",{children:"\u65B0\u54C1\u5B9A\u4E49\uFF1A"}),(0,e.jsxs)(T.ZP.Group,{size:"small",defaultValue:s,onChange:function(g){var x=g.target.value,F=Date.now();p.dataset.source.forEach(function(D){F<=D.timestamp+Number(x)?D.newProduct=1:D.newProduct=0}),C(Number(x)),b(A()({},p))},children:[(0,e.jsx)(T.ZP.Button,{value:31104e6,children:"\u6700\u8FD11\u5E74"}),(0,e.jsx)(T.ZP.Button,{value:15552e6,children:"\u6700\u8FD16\u4E2A\u6708"}),(0,e.jsx)(T.ZP.Button,{value:7776e6,children:"\u6700\u8FD13\u4E2A\u6708"})]})]})}),(0,e.jsx)(G.Z,{option:p,onEvents:{click:function(g,x){console.log(g,x),window.open(g.data.data.URL.text,"_blank")}}})]})},K=ja,z=j(69400),ea=function(a){return a.max?"".concat(a.min,"-").concat(a.max):"".concat(a.min,"+")},Da=function(a){var n=(0,O.useState)(!1),c=E()(n,2),m=c[0],p=c[1],b=function(){p(!0)},R=function(){p(!1)},f=[{min:0,max:99},{min:100,max:199},{min:200,max:299},{min:300,max:399},{min:400,max:499},{min:500,max:999},{min:1e3,max:1499},{min:1500,max:1999},{min:2e3,max:2999},{min:3e3,max:4999},{min:5e3,max:9999},{min:1e4}],s=new Map;f.forEach(function(o){return s.set(o,{})});var C=a.data,t=0;C.forEach(function(o){var r=o.\u8FD130\u5929\u9500\u91CF;t+=r}),C.forEach(function(o){var r=Z()(s),d;try{var v=function(){var k=E()(d.value,2),u=k[0],l=k[1],h=o.\u8FD130\u5929\u9500\u91CF;if(u.min===u.max&&u.min==h||u.min!==void 0&&u.max!==void 0&&u.min<=h&&u.max>=h||u.min!==void 0&&u.max===void 0&&u.min>=h){l.list||(l.list=[]),l.list[l.list.length]=o,l.productCount||(l.productCount=0),l.productCount++,l.salesRange||(l.salesRange=ea(u));var i=0;l.list.forEach(function(w){var N=w.\u8FD130\u5929\u9500\u91CF;i+=N}),l.salesCount=i,l.salesRatio=Number((i/t*100).toFixed(2))}};for(r.s();!(d=r.n()).done;)v()}catch(P){r.e(P)}finally{r.f()}}),console.log("\u603B\u9500\u91CF ".concat(t));var y=Array.from(s.values()),g=(0,O.useState)(new Array),x=E()(g,2),F=x[0],D=x[1],M={tooltip:{trigger:"axis",axisPointer:{type:"cross",crossStyle:{color:"#999"}}},toolbox:{feature:{dataView:{show:!0,readOnly:!1},restore:{show:!0},saveAsImage:{show:!0}}},legend:{data:["\u4EA7\u54C1\u6570\u91CF","\u9500\u91CF\u5360\u6BD4"]},dataZoom:[{type:"inside"},{type:"slider"}],xAxis:[{name:"\u9500\u91CF\u533A\u95F4",nameLocation:"start",nameGap:40,type:"category",data:f.map(ea)}],yAxis:[{type:"value",name:"\u4EA7\u54C1\u6570\u91CF"},{type:"value",name:"\u9500\u91CF\u5360\u6BD4",axisLabel:{formatter:"{value} %"}}],dataset:{source:y},series:[{name:"\u4EA7\u54C1\u6570\u91CF",type:"bar",tooltip:{valueFormatter:function(r){return r}},encode:{x:"salesRange",y:"productCount"}},{name:"\u9500\u91CF\u5360\u6BD4",type:"line",yAxisIndex:1,tooltip:{valueFormatter:function(r){return r+" %"}},encode:{x:"salesRange",y:"salesRatio"}}]},I=function(r,d){console.log(r,d),D(r.value.list),b()},S=A()(A()({},V()),{},{data:F});return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(G.Z,{option:M,onChartReady:function(){return console.log("echarts ready ok")},onEvents:{click:I}}),(0,e.jsx)(z.Z,{footer:null,maskClosable:!1,title:"\u5546\u54C1\u5217\u8868",width:1200,open:m,onCancel:R,afterOpenChange:function(r){},children:(0,e.jsx)(K,A()({},S))})]})},Na=Da,na=function(a){return a.max?"".concat(a.min,"-").concat(a.max):"".concat(a.min,"+")},Ma=function(a){var n=(0,O.useState)(!1),c=E()(n,2),m=c[0],p=c[1],b=function(){p(!0)},R=function(){p(!1)},f=[{min:0,max:999},{min:1e3,max:4999},{min:5e3,max:9999},{min:1e4,max:19999},{min:2e4,max:49999},{min:5e4,max:99999},{min:1e5}],s=new Map;f.forEach(function(o){return s.set(o,{})});var C=a.data,t=0;C.forEach(function(o){var r=o.\u8FD130\u5929\u9500\u91CF;t+=r}),C.forEach(function(o){var r=Z()(s),d;try{var v=function(){var k=E()(d.value,2),u=k[0],l=k[1],h=o["\u8FD130\u5929\u9500\u552E\u989D($)"];if(u.min===u.max&&u.min==h||u.min!==void 0&&u.max!==void 0&&u.min<=h&&u.max>=h||u.min!==void 0&&u.max===void 0&&u.min<=h){l.list||(l.list=[]),l.list[l.list.length]=o,l.productCount||(l.productCount=0),l.productCount++,l.salesRange||(l.salesRange=na(u));var i=0;l.list.forEach(function(w){var N=w.\u8FD130\u5929\u9500\u91CF;i+=N}),l.salesCount=i,l.salesRatio=Number((i/t*100).toFixed(2))}};for(r.s();!(d=r.n()).done;)v()}catch(P){r.e(P)}finally{r.f()}}),console.log("\u603B\u9500\u91CF ".concat(t));var y=Array.from(s.values()),g=(0,O.useState)(new Array),x=E()(g,2),F=x[0],D=x[1],M={tooltip:{trigger:"axis",axisPointer:{type:"cross",crossStyle:{color:"#999"}}},toolbox:{feature:{dataView:{show:!0,readOnly:!1},restore:{show:!0},saveAsImage:{show:!0}}},legend:{data:["\u4EA7\u54C1\u6570\u91CF","\u9500\u91CF\u5360\u6BD4"]},dataZoom:[{type:"inside"},{type:"slider"}],xAxis:[{name:"\u9500\u552E\u989D\u533A\u95F4",nameLocation:"start",nameGap:40,type:"category",data:f.map(na)}],yAxis:[{type:"value",name:"\u4EA7\u54C1\u6570\u91CF"},{type:"value",name:"\u9500\u91CF\u5360\u6BD4",axisLabel:{formatter:"{value} %"}}],dataset:{source:y},series:[{name:"\u4EA7\u54C1\u6570\u91CF",type:"bar",tooltip:{valueFormatter:function(r){return r}},encode:{x:"salesRange",y:"productCount"}},{name:"\u9500\u91CF\u5360\u6BD4",type:"line",yAxisIndex:1,tooltip:{valueFormatter:function(r){return r+" %"}},encode:{x:"salesRange",y:"salesRatio"}}]},I=function(r,d){console.log(r,d),D(r.value.list),b()},S=A()(A()({},V()),{},{data:F});return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(G.Z,{option:M,onChartReady:function(){return console.log("echarts ready ok")},onEvents:{click:I}}),(0,e.jsx)(z.Z,{footer:null,maskClosable:!1,title:"\u5546\u54C1\u5217\u8868",width:1200,open:m,onCancel:R,afterOpenChange:function(r){},children:(0,e.jsx)(K,A()({},S))})]})},Ia=Ma,oa=function(a){return a.min===a.max?"".concat(a.min):a.max!==void 0?"".concat(a.min,"-").concat(a.max):"".concat(a.min,"+")},Oa=function(a){var n=(0,O.useState)(!1),c=E()(n,2),m=c[0],p=c[1],b=function(){p(!0)},R=function(){p(!1)},f=[{min:0,max:0},{min:1,max:49},{min:50,max:99},{min:100,max:499},{min:500,max:999},{min:1e3,max:4999},{min:5e3,max:9999},{min:1e4}],s=new Map;f.forEach(function(o){return s.set(o,{})});var C=a.data,t=0;C.forEach(function(o){var r=o.\u8FD130\u5929\u9500\u91CF;t+=r}),C.forEach(function(o){var r=Z()(s),d;try{var v=function(){var k=E()(d.value,2),u=k[0],l=k[1],h=o.\u8BC4\u5206\u6570;if(u.min===u.max&&u.min==h||u.min!==void 0&&u.max!==void 0&&u.min<=h&&u.max>=h||u.min!==void 0&&u.max===void 0&&u.min<=h){l.list||(l.list=[]),l.list[l.list.length]=o,l.productCount||(l.productCount=0),l.productCount++,l.salesRange||(l.salesRange=oa(u));var i=0;l.list.forEach(function(w){var N=w.\u8FD130\u5929\u9500\u91CF;i+=N}),l.salesCount=i,l.salesRatio=Number((i/t*100).toFixed(2))}};for(r.s();!(d=r.n()).done;)v()}catch(P){r.e(P)}finally{r.f()}}),console.log("\u603B\u9500\u91CF ".concat(t));var y=Array.from(s.values()),g=(0,O.useState)(new Array),x=E()(g,2),F=x[0],D=x[1],M={tooltip:{trigger:"axis",axisPointer:{type:"cross",crossStyle:{color:"#999"}}},toolbox:{feature:{dataView:{show:!0,readOnly:!1},restore:{show:!0},saveAsImage:{show:!0}}},legend:{data:["\u4EA7\u54C1\u6570\u91CF","\u9500\u91CF\u5360\u6BD4"]},dataZoom:[{type:"inside"},{type:"slider"}],xAxis:[{name:"\u8BC4\u5206\u6570",nameLocation:"start",nameGap:40,type:"category",data:f.map(oa)}],yAxis:[{type:"value",name:"\u4EA7\u54C1\u6570\u91CF"},{type:"value",name:"\u9500\u91CF\u5360\u6BD4",axisLabel:{formatter:"{value} %"}}],dataset:{source:y},series:[{name:"\u4EA7\u54C1\u6570\u91CF",type:"bar",tooltip:{valueFormatter:function(r){return r}},encode:{x:"salesRange",y:"productCount"}},{name:"\u9500\u91CF\u5360\u6BD4",type:"line",yAxisIndex:1,tooltip:{valueFormatter:function(r){return r+" %"}},encode:{x:"salesRange",y:"salesRatio"}}]},I=function(r,d){console.log(r,d),D(r.value.list),b()},S=A()(A()({},V()),{},{data:F});return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(G.Z,{option:M,onChartReady:function(){return console.log("echarts ready ok")},onEvents:{click:I}}),(0,e.jsx)(z.Z,{footer:null,maskClosable:!1,title:"\u5546\u54C1\u5217\u8868",width:1200,open:m,onCancel:R,afterOpenChange:function(r){},children:(0,e.jsx)(K,A()({},S))})]})},Za=Oa,ra=function(a){return a.max?"".concat(a.min,"-").concat(a.max):"".concat(a.min,"+")},$a=function(a){var n=(0,O.useState)(!1),c=E()(n,2),m=c[0],p=c[1],b=function(){p(!0)},R=function(){p(!1)},f=[{min:0,max:1.9},{min:2,max:2.9},{min:3,max:3.9},{min:4,max:4.4},{min:4.5}],s=new Map;f.forEach(function(o){return s.set(o,{})});var C=a.data,t=0;C.forEach(function(o){var r=o.\u8FD130\u5929\u9500\u91CF;t+=r}),C.forEach(function(o){var r=Z()(s),d;try{var v=function(){var k=E()(d.value,2),u=k[0],l=k[1],h=o.\u8BC4\u5206;if(u.min===u.max&&u.min==h||u.min!==void 0&&u.max!==void 0&&u.min<=h&&u.max>=h||u.min!==void 0&&u.max===void 0&&u.min<=h){l.list||(l.list=[]),l.list[l.list.length]=o,l.productCount||(l.productCount=0),l.productCount++,l.salesRange||(l.salesRange=ra(u));var i=0;l.list.forEach(function(w){var N=w.\u8FD130\u5929\u9500\u91CF;i+=N}),l.salesCount=i,l.salesRatio=Number((i/t*100).toFixed(2))}};for(r.s();!(d=r.n()).done;)v()}catch(P){r.e(P)}finally{r.f()}}),console.log("\u603B\u9500\u91CF ".concat(t));var y=Array.from(s.values()),g=(0,O.useState)(new Array),x=E()(g,2),F=x[0],D=x[1],M={tooltip:{trigger:"axis",axisPointer:{type:"cross",crossStyle:{color:"#999"}}},toolbox:{feature:{dataView:{show:!0,readOnly:!1},restore:{show:!0},saveAsImage:{show:!0}}},legend:{data:["\u4EA7\u54C1\u6570\u91CF","\u9500\u91CF\u5360\u6BD4"]},dataZoom:[{type:"inside"},{type:"slider"}],xAxis:[{name:"\u8BC4\u5206\u6570",nameLocation:"start",nameGap:40,type:"category",data:f.map(ra)}],yAxis:[{type:"value",name:"\u4EA7\u54C1\u6570\u91CF"},{type:"value",name:"\u9500\u91CF\u5360\u6BD4",axisLabel:{formatter:"{value} %"}}],dataset:{source:y},series:[{name:"\u4EA7\u54C1\u6570\u91CF",type:"bar",tooltip:{valueFormatter:function(r){return r}},encode:{x:"salesRange",y:"productCount"}},{name:"\u9500\u91CF\u5360\u6BD4",type:"line",yAxisIndex:1,tooltip:{valueFormatter:function(r){return r+" %"}},encode:{x:"salesRange",y:"salesRatio"}}]},I=function(r,d){console.log(r,d),D(r.value.list),b()},S=A()(A()({},V()),{},{data:F});return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(G.Z,{option:M,onChartReady:function(){return console.log("echarts ready ok")},onEvents:{click:I}}),(0,e.jsx)(z.Z,{footer:null,maskClosable:!1,title:"\u5546\u54C1\u5217\u8868",width:1200,open:m,onCancel:R,afterOpenChange:function(r){},children:(0,e.jsx)(K,A()({},S))})]})},La=$a,sa=function(a){return a.max?"".concat(a.min,"-").concat(a.max):"".concat(a.min,"+")},Ga=function(a){var n=(0,O.useState)(!1),c=E()(n,2),m=c[0],p=c[1],b=function(){p(!0)},R=function(){p(!1)},f=[{min:0,max:9.99},{min:10,max:19.99},{min:20,max:29.99},{min:30,max:39.99},{min:40,max:49.99},{min:50,max:74.99},{min:75,max:99.99},{min:100,max:149.99},{min:150,max:199.99},{min:200,max:299.99},{min:300}],s=new Map;f.forEach(function(d){return s.set(d,{})});var C=a.data,t=0,y=C.length,g=0;C.forEach(function(d){var v=d.\u8FD130\u5929\u9500\u91CF;t+=v;var P=Number(d["\u8FD130\u5929\u9500\u552E\u989D($)"]);g+=P}),C.forEach(function(d){var v=Z()(s),P;try{var k=function(){var l=E()(P.value,2),h=l[0],i=l[1],w=d["\u4EF7\u683C($)"];if(h.min===h.max&&h.min==w||h.min!==void 0&&h.max!==void 0&&h.min<=w&&h.max>=w||h.min!==void 0&&h.max===void 0&&h.min<=w){i.list||(i.list=[]),i.list[i.list.length]=d,i.productCount||(i.productCount=0),i.productCount++,i.salesRange||(i.salesRange=sa(h));var N=0,$=0;i.list.forEach(function(L){var J=L.\u8FD130\u5929\u9500\u91CF,U=Number(L["\u8FD130\u5929\u9500\u552E\u989D($)"]);N+=J,$+=U}),i.salesCount=N,i.salesRatio=Number((N/t*100).toFixed(2)),i.productCountRatio=Number((i.productCount/y*100).toFixed(2)),i.salesAmtRatio=Number(($/g*100).toFixed(2))}};for(v.s();!(P=v.n()).done;)k()}catch(u){v.e(u)}finally{v.f()}}),console.log("\u603B\u9500\u91CF ".concat(t));var x=Array.from(s.values()),F=(0,O.useState)(new Array),D=E()(F,2),M=D[0],I=D[1],S={tooltip:{trigger:"axis",axisPointer:{type:"cross",crossStyle:{color:"#999"}}},toolbox:{feature:{dataView:{show:!0,readOnly:!1},restore:{show:!0},saveAsImage:{show:!0}}},legend:{data:["\u4EA7\u54C1\u6570\u91CF","\u9500\u91CF\u5360\u6BD4","\u6570\u91CF\u5360\u6BD4","\u9500\u552E\u989D\u5360\u6BD4"]},dataZoom:[{type:"inside"},{type:"slider"}],xAxis:[{name:"\u4EF7\u683C($)",nameLocation:"start",nameGap:40,type:"category",data:f.map(sa)}],yAxis:[{type:"value",name:"\u4EA7\u54C1\u6570\u91CF"},{type:"value",name:"\u9500\u91CF\u5360\u6BD4",axisLabel:{formatter:"{value} %"}}],dataset:{source:x},series:[{name:"\u4EA7\u54C1\u6570\u91CF",type:"bar",tooltip:{valueFormatter:function(v){return v}},encode:{x:"salesRange",y:"productCount"}},{name:"\u9500\u91CF\u5360\u6BD4",type:"line",yAxisIndex:1,tooltip:{valueFormatter:function(v){return v+" %"}},encode:{x:"salesRange",y:"salesRatio"}},{name:"\u6570\u91CF\u5360\u6BD4",type:"line",yAxisIndex:1,tooltip:{valueFormatter:function(v){return v+" %"}},encode:{x:"salesRange",y:"productCountRatio"}},{name:"\u9500\u552E\u989D\u5360\u6BD4",type:"line",yAxisIndex:1,tooltip:{valueFormatter:function(v){return v+" %"}},encode:{x:"salesRange",y:"salesAmtRatio"}}]},o=function(v,P){console.log(v,P),I(v.value.list),b()},r=A()(A()({},V()),{},{data:M});return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(G.Z,{option:S,onChartReady:function(){return console.log("echarts ready ok")},onEvents:{click:o}}),(0,e.jsx)(z.Z,{footer:null,maskClosable:!1,title:"\u5546\u54C1\u5217\u8868",width:1200,open:m,onCancel:R,afterOpenChange:function(v){},children:(0,e.jsx)(K,A()({},r))})]})},Ka=Ga,Va=function(a){var n=(0,O.useState)(!1),c=E()(n,2),m=c[0],p=c[1],b=function(){p(!0)},R=function(){p(!1)},f=60*60*24*30*1e3,s=[{min:0,max:f-1,title:"\u4E00\u4E2A\u6708"},{min:f,max:f*3-1,title:"3\u4E2A\u6708"},{min:f*3,max:f*6-1,title:"\u534A\u5E74"},{min:f*6,max:f*12-1,title:"1\u5E74"},{min:f*12,max:f*18-1,title:"1\u5E74\u534A"},{min:f*18,max:f*24-1,title:"2\u5E74"},{min:f*24,max:f*30-1,title:"2\u5E74\u534A"},{min:f*30,max:f*36-1,title:"3\u5E74"},{min:f*36,title:"3\u5E74\u4EE5\u4E0A"}],C=new Map;s.forEach(function(d){return C.set(d,{})});var t=a.data,y=0;t.forEach(function(d){var v=d.\u8FD130\u5929\u9500\u91CF;y+=v});var g=Date.now();t.forEach(function(d){var v=Z()(C),P;try{var k=function(){var l=E()(P.value,2),h=l[0],i=l[1],w=g-d.timestamp;if(h.min===h.max&&h.min==w||h.min!==void 0&&h.max!==void 0&&h.min<=w&&h.max>=w||h.min!==void 0&&h.max===void 0&&h.min<=w){i.list||(i.list=[]),i.list[i.list.length]=d,i.productCount||(i.productCount=0),i.productCount++,i.salesRange||(i.salesRange=h.title);var N=0;i.list.forEach(function($){var L=$.\u8FD130\u5929\u9500\u91CF;N+=L}),i.salesCount=N,i.salesRatio=Number((N/y*100).toFixed(2))}};for(v.s();!(P=v.n()).done;)k()}catch(u){v.e(u)}finally{v.f()}}),console.log("\u603B\u9500\u91CF ".concat(y));var x=Array.from(C.values()),F=(0,O.useState)(new Array),D=E()(F,2),M=D[0],I=D[1],S={tooltip:{trigger:"axis",axisPointer:{type:"cross",crossStyle:{color:"#999"}}},toolbox:{feature:{dataView:{show:!0,readOnly:!1},restore:{show:!0},saveAsImage:{show:!0}}},legend:{data:["\u4EA7\u54C1\u6570\u91CF","\u9500\u91CF\u5360\u6BD4"]},dataZoom:[{type:"inside"},{type:"slider"}],xAxis:[{name:"\u4EF7\u683C($)",nameLocation:"start",nameGap:40,type:"category",data:s.map(function(d){return d.title})}],yAxis:[{type:"value",name:"\u4EA7\u54C1\u6570\u91CF"},{type:"value",name:"\u9500\u91CF\u5360\u6BD4",axisLabel:{formatter:"{value} %"}}],dataset:{source:x},series:[{name:"\u4EA7\u54C1\u6570\u91CF",type:"bar",tooltip:{valueFormatter:function(v){return v}},encode:{x:"salesRange",y:"productCount"}},{name:"\u9500\u91CF\u5360\u6BD4",type:"line",yAxisIndex:1,tooltip:{valueFormatter:function(v){return v+" %"}},encode:{x:"salesRange",y:"salesRatio"}}]},o=function(v,P){console.log(v,P),I(v.value.list),b()},r=A()(A()({},V()),{},{data:M});return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(G.Z,{option:S,onChartReady:function(){return console.log("echarts ready ok")},onEvents:{click:o}}),(0,e.jsx)(z.Z,{footer:null,maskClosable:!1,title:"\u5546\u54C1\u5217\u8868",width:1200,open:m,onCancel:R,afterOpenChange:function(v){},children:(0,e.jsx)(K,A()({},r))})]})},Ta=Va,ua=["AMZ","FBA","FBM"],la=["CN","US","\u672A\u77E5"],ia={nameLocation:"start",nameGap:40,type:"category"},ca={tooltip:{trigger:"axis",axisPointer:{type:"cross",crossStyle:{color:"#999"}}},toolbox:{feature:{dataView:{show:!0,readOnly:!1},restore:{show:!0},saveAsImage:{show:!0}}},legend:{data:["\u4EA7\u54C1\u6570\u91CF","\u9500\u91CF\u5360\u6BD4"]},dataZoom:[{type:"inside"},{type:"slider"}],xAxis:[{nameLocation:"start",nameGap:40,type:"category"}],yAxis:[{type:"value",name:"\u4EA7\u54C1\u6570\u91CF"},{type:"value",name:"\u9500\u91CF\u5360\u6BD4",axisLabel:{formatter:"{value} %"}}],dataset:{source:[]},series:[{name:"\u4EA7\u54C1\u6570\u91CF",type:"bar",tooltip:{valueFormatter:function(a){return a}},encode:{x:"salesRange",y:"productCount"}},{name:"\u9500\u91CF\u5360\u6BD4",type:"line",yAxisIndex:1,tooltip:{valueFormatter:function(a){return a+" %"}},encode:{x:"salesRange",y:"salesRatio"}}]},W=A()({},ca),X=A()({},ca);W.title={name:"\u914D\u9001\u65B9\u5F0F"},W.xAxis=[A()(A()({},ia),{},{name:"\u914D\u9001\u65B9\u5F0F",data:ua})],X.title={name:"\u5356\u5BB6\u5730\u533A"},X.xAxis=[A()(A()({},ia),{},{name:"\u5356\u5BB6\u5730\u533A",data:la})];var da=function(a,n,c,m,p,b){n.list||(n.list=[]),n.list[n.list.length]=c,n.productCount||(n.productCount=0),n.productCount++,n.salesRange=c[b];var R=0;n.list.forEach(function(f){var s=f.\u8FD130\u5929\u9500\u91CF;R+=s}),n.salesRatio=Number((R/m*100).toFixed(2)),n.productCountRatio=Number((n.productCount/p*100).toFixed(2))},za=function(a){var n=(0,O.useState)(!1),c=E()(n,2),m=c[0],p=c[1],b=function(){p(!0)},R=function(){p(!1)},f=new Map;ua.forEach(function(S){return f.set(S,{})});var s=new Map;la.forEach(function(S){return s.set(S,{})});var C=a.data,t=0,y=C.length;C.forEach(function(S){var o=S.\u8FD130\u5929\u9500\u91CF;t+=o}),C.forEach(function(S){var o=Z()(f),r;try{for(o.s();!(r=o.n()).done;){var d=E()(r.value,2),v=d[0],P=d[1];S.\u914D\u9001\u65B9\u5F0F===v&&da(v,P,S,t,y,"\u914D\u9001\u65B9\u5F0F")}}catch(w){o.e(w)}finally{o.f()}var k=Z()(s),u;try{for(k.s();!(u=k.n()).done;){var l=E()(u.value,2),h=l[0],i=l[1];S.\u5356\u5BB6\u6240\u5C5E\u5730===h&&da(h,i,S,t,y,"\u5356\u5BB6\u6240\u5C5E\u5730")}}catch(w){k.e(w)}finally{k.f()}}),console.log(Array.from(f.values()));var g=(0,O.useState)(new Array),x=E()(g,2),F=x[0],D=x[1];W.dataset={source:Array.from(f.values())},X.dataset={source:Array.from(s.values())};var M=function(o,r){console.log(o,r),D(o.value.list),b()},I=A()(A()({},V()),{},{data:F});return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(G.Z,{option:W,onChartReady:function(){return console.log("echarts ready ok")},onEvents:{click:M}}),(0,e.jsx)(G.Z,{option:X,onChartReady:function(){return console.log("echarts ready ok")},onEvents:{click:M}}),(0,e.jsx)(z.Z,{footer:null,maskClosable:!1,title:"\u5546\u54C1\u5217\u8868",width:1200,open:m,onCancel:R,afterOpenChange:function(o){},children:(0,e.jsx)(K,A()({},I))})]})},Ua=za,Ja=function(a){var n=a.data;console.log(n);var c=A()(A()({},V()),{},{data:n}),m={data:n,rankKey:"salesAmtRanking",countKey:"\u8FD130\u5929\u9500\u552E\u989D($)",option:{title:"\u5546\u54C1\u9500\u91CF\u989D\u96C6\u4E2D\u5EA6",xAxisName:"\u9500\u91CF\u989D\u6392\u540D",yAxisItemNames:["\u9500\u91CF\u989D","\u9500\u91CF\u989D\u5360\u6BD4"]}};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(K,A()({},c)),(0,e.jsx)(K,A()({},m))]})},Ha=Ja,Qa=function(a,n){return{tooltip:{trigger:"axis",axisPointer:{type:"none"},formatter:a.option.tooltipFormatter,extraCssText:"max-width: 600px; white-space:pre-wrap"},toolbox:{feature:{dataView:{show:!0,readOnly:!1},restore:{show:!0},saveAsImage:{show:!0}}},legend:{data:a.option.legendData},dataZoom:[{type:"inside"},{type:"slider"}],xAxis:[{name:a.option.xAxisName,nameLocation:"start",nameGap:40,type:"category"}],yAxis:[{type:"value",name:a.option.yAxisItemNames[0]},{type:"value",name:a.option.yAxisItemNames[0],axisLabel:{formatter:"{value} %"}}],dataset:{source:n},visualMap:{type:"piecewise",show:!0,pieces:[{min:0,max:0,color:"#556fc5",label:a.option.yAxisItemNames[0]},{min:1,max:1,color:"#91cd77",label:"\u65B0\u54C1".concat(a.option.yAxisItemNames[0])}],seriesIndex:0,dimension:16,orient:"horizontal",selectedMode:!1,hoverLink:!1,left:"auto",bottom:"auto",top:0,inRange:{color:"#91cd77"},outOfRange:{color:"#556fc5"}},series:[{name:a.option.bar.name,type:"bar",tooltip:{valueFormatter:function(m){return m}},encode:{x:a.option.bar.x,y:a.option.bar.y}},{name:a.option.line.name,type:"line",yAxisIndex:1,tooltip:{valueFormatter:function(m){return m+" %"}},encode:{x:a.option.line.x,y:a.option.line.y}}]}},Wa=function(a,n,c,m,p){n.list||(n.list=[]),n.list[n.list.length]=c,n.group=c[m];var b=Date.now();c.newProduct=b<=c.timestamp+Number(p)?1:0,n.data=c},ma=function(a,n,c){a.salesCount=0,a.salesAmt=0,a.productCount=a.list.length;var m=0,p=0,b=0,R=0;a.list.forEach(function(f){var s=f.\u8FD130\u5929\u9500\u91CF;a.salesCount+=s;var C=f["\u8FD130\u5929\u9500\u552E\u989D($)"];a.salesAmt+=C,f.newProduct===1&&(b=1,m++,p+=f["\u8FD130\u5929\u9500\u552E\u989D($)"],R+=s)}),a.newProductSalesCount=R,a.unNewProductSalesCount=a.salesCount-R,a.newProductCount=m,a.unNewProductCount=a.productCount-a.newProductCount,a.newProductSalesAmt=p,a.unNewProductSalesAmt=a.salesAmt-a.newProductSalesAmt,a.newProductSalesAmtRatio=Number((a.newProductSalesAmt/a.salesAmt*100).toFixed(2)),a.unNewProductSalesAmtRatio=100-a.newProductSalesAmtRatio,a.newProductSalesCountRatio=Number((a.newProductSalesCount/a.salesCount*100).toFixed(2)),a.unNewProductSalesCountRatio=100-a.newProductSalesCountRatio,a.newProduct=b,a.salesCountRatio=Number((a.salesCount/n*100).toFixed(2)),a.salesAmtRatio=Number((a.salesAmt/c*100).toFixed(2))},Xa=function(a){var n=(0,O.useState)(31104e6),c=E()(n,2),m=c[0],p=c[1],b=(0,O.useState)(!1),R=E()(b,2),f=R[0],s=R[1],C=(0,O.useState)(new Array),t=E()(C,2),y=t[0],g=t[1],x=function(){s(!0)},F=function(){s(!1)},D=function(w,N){console.log(w,N),g(w.value.list),x()},M=a.metadata,I=0,S=0;M.forEach(function(i){var w=i.\u8FD130\u5929\u9500\u91CF;I+=w;var N=i["\u8FD130\u5929\u9500\u552E\u989D($)"];S+=N;var $=Date.now();i.newProduct=$<=i.timestamp+m?1:0});var o=new Set(M.map(function(i){return i[a.groupKey]})),r=new Map;o.forEach(function(i){return r.set(i,{})}),M.forEach(function(i){var w=Z()(r),N;try{for(w.s();!(N=w.n()).done;){var $=E()(N.value,2),L=$[0],J=$[1];i[a.groupKey]===L&&Wa(L,J,i,a.groupKey,m)}}catch(U){w.e(U)}finally{w.f()}});var d=Array.from(r.values());d.map(function(i,w){ma(i,I,S)}),d=Q().sortBy(d,a.sortKey).reverse(),d.forEach(function(i,w){return i.ranking=w+1});var v=Qa(a,d),P=(0,O.useState)(v),k=E()(P,2),u=k[0],l=k[1];console.log(u);var h=A()(A()({},V()),{},{data:y});return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("div",{style:{overflow:"hidden",padding:"0 0 10px 0"},children:(0,e.jsxs)("div",{style:{float:"right",clear:"both"},children:[(0,e.jsx)("span",{children:"\u65B0\u54C1\u5B9A\u4E49\uFF1A"}),(0,e.jsxs)(T.ZP.Group,{size:"small",defaultValue:m,onChange:function(w){var N=w.target.value,$=Date.now();u.dataset.source.forEach(function(L){var J=0;L.list.forEach(function(U){$<=U.timestamp+Number(N)?(J=1,U.newProduct=1):U.newProduct=0}),L.newProduct=J,ma(L,I,S)}),p(Number(N)),l(A()({},u))},children:[(0,e.jsx)(T.ZP.Button,{value:31104e6,children:"\u6700\u8FD11\u5E74"}),(0,e.jsx)(T.ZP.Button,{value:15552e6,children:"\u6700\u8FD16\u4E2A\u6708"}),(0,e.jsx)(T.ZP.Button,{value:7776e6,children:"\u6700\u8FD13\u4E2A\u6708"})]})]})}),(0,e.jsx)(G.Z,{option:u,onEvents:{click:D}}),(0,e.jsx)(z.Z,{footer:null,maskClosable:!1,title:"\u5546\u54C1\u5217\u8868",width:1200,open:f,onCancel:F,afterOpenChange:function(w){},children:(0,e.jsx)(K,A()({},h))})]})},Y=Xa,Ya=function(a,n,c,m,p,b){n.list||(n.list=[]),n.list[n.list.length]=c,n.salesRange=c[b]},_a=function(a,n,c){a.salesCount===void 0&&(a.salesCount=0),a.salesAmt===void 0&&(a.salesAmt=0),a.list.forEach(function(m){var p=m.\u8FD130\u5929\u9500\u91CF;a.salesCount+=p;var b=m["\u8FD130\u5929\u9500\u552E\u989D($)"];a.salesAmt+=b}),a.salesRatio=Number((a.salesCount/n*100).toFixed(2)),a.salesAmtRatio=Number((a.salesAmt/c*100).toFixed(2))},_,qa=function(a){var n=a.data;_||(_=new Set(n.map(function(s){return s.Buybox\u5356\u5BB6})));var c=new Map;_.forEach(function(s){return c.set(s,{})});var m=0,p=0;n.forEach(function(s){var C=s.\u8FD130\u5929\u9500\u91CF;m+=C;var t=s["\u8FD130\u5929\u9500\u552E\u989D($)"];p+=t}),n.forEach(function(s){var C=Z()(c),t;try{for(C.s();!(t=C.n()).done;){var y=E()(t.value,2),g=y[0],x=y[1];s.Buybox\u5356\u5BB6===g&&Ya(g,x,s,m,p,"Buybox\u5356\u5BB6")}}catch(F){C.e(F)}finally{C.f()}});var b=Array.from(c.values());b.map(function(s){_a(s,m,p)}),console.log(b);var R={metadata:n,sortKey:"salesCount",groupKey:"Buybox\u5356\u5BB6",option:{title:"\u5356\u5BB6\u9500\u91CF\u96C6\u4E2D\u5EA6",xAxisName:"\u5356\u5BB6",yAxisItemNames:["\u9500\u91CF","\u9500\u91CF\u5360\u6BD4"],legendData:["\u9500\u91CF\u5360\u6BD4"],bar:{name:"\u9500\u91CF",x:"group",y:"salesCount"},line:{name:"\u9500\u91CF\u5360\u6BD4",x:"group",y:"salesCountRatio"},tooltipFormatter:function(C){var t=C[0].data,y=["<b>\u6392\u540D: </b><span>".concat(t.ranking,"</span>"),"<b>\u5356\u5BB6: </b><span>".concat(t.group,"</span>"),"<b>\u5546\u54C1\u6570\u91CF/\u65B0\u54C1\u6570\u91CF: </b><span>".concat(t.productCount,"/").concat(t.newProductCount,"</span>"),"<b>\u6708\u9500\u91CF: </b><span>".concat(t.salesCount," (\u975E\u65B0\u54C1: ").concat(t.unNewProductSalesCount," \u65B0\u54C1: ").concat(t.newProductSalesCount,")</span>"),"<b>\u6708\u9500\u91CF\u5360\u6BD4: </b><span>".concat(t.salesCountRatio,"% (\u975E\u65B0\u54C1: ").concat(t.unNewProductSalesCountRatio,"% \u65B0\u54C1: ").concat(t.newProductSalesCountRatio,"%)</span>"),"<b>\u6708\u9500\u552E\u989D: </b><span>$".concat(t.salesAmt," (\u975E\u65B0\u54C1: $").concat(t.unNewProductSalesAmt," \u65B0\u54C1: $").concat(t.newProductSalesAmt,")</span>"),"<b>\u6708\u9500\u552E\u989D\u5360\u6BD4: </b><span>".concat(t.salesAmtRatio,"% (\u975E\u65B0\u54C1: ").concat(t.unNewProductSalesAmtRatio,"% \u65B0\u54C1: ").concat(t.newProductSalesAmtRatio,"%)</span>")];return y.join("<br/>")}}},f={metadata:n,sortKey:"salesAmt",groupKey:"Buybox\u5356\u5BB6",option:{title:"\u5356\u5BB6\u9500\u552E\u989D\u96C6\u4E2D\u5EA6",xAxisName:"\u5356\u5BB6",yAxisItemNames:["\u9500\u552E\u989D","\u9500\u552E\u989D\u5360\u6BD4"],legendData:["\u9500\u552E\u989D\u5360\u6BD4"],bar:{name:"\u9500\u552E\u989D",x:"group",y:"salesAmt"},line:{name:"\u9500\u552E\u989D\u5360\u6BD4",x:"group",y:"salesAmtRatio"},tooltipFormatter:function(C){var t=C[0].data,y=["<b>\u6392\u540D: </b><span>".concat(t.ranking,"</span>"),"<b>\u5356\u5BB6: </b><span>".concat(t.group,"</span>"),"<b>\u5546\u54C1\u6570\u91CF/\u65B0\u54C1\u6570\u91CF: </b><span>".concat(t.productCount,"/").concat(t.newProductCount,"</span>"),"<b>\u6708\u9500\u91CF: </b><span>".concat(t.salesCount," (\u975E\u65B0\u54C1: ").concat(t.unNewProductSalesCount," \u65B0\u54C1: ").concat(t.newProductSalesCount,")</span>"),"<b>\u6708\u9500\u91CF\u5360\u6BD4: </b><span>".concat(t.salesCountRatio,"% (\u975E\u65B0\u54C1: ").concat(t.unNewProductSalesCountRatio,"% \u65B0\u54C1: ").concat(t.newProductSalesCountRatio,"%)</span>"),"<b>\u6708\u9500\u552E\u989D: </b><span>$".concat(t.salesAmt," (\u975E\u65B0\u54C1: $").concat(t.unNewProductSalesAmt," \u65B0\u54C1: $").concat(t.newProductSalesAmt,")</span>"),"<b>\u6708\u9500\u552E\u989D\u5360\u6BD4: </b><span>".concat(t.salesAmtRatio,"% (\u975E\u65B0\u54C1: ").concat(t.unNewProductSalesAmtRatio,"% \u65B0\u54C1: ").concat(t.newProductSalesAmtRatio,"%)</span>")];return y.join("<br/>")}}};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(Y,A()({},R)),(0,e.jsx)(Y,A()({},f))]})},at=qa,tt=function(a,n,c,m,p,b){n.list||(n.list=[]),n.list[n.list.length]=c,n.salesRange=c[b]},et=function(a,n,c){a.salesCount===void 0&&(a.salesCount=0),a.salesAmt===void 0&&(a.salesAmt=0),a.list.forEach(function(m){var p=m.\u8FD130\u5929\u9500\u91CF;a.salesCount+=p;var b=m["\u8FD130\u5929\u9500\u552E\u989D($)"];a.salesAmt+=b}),a.salesRatio=Number((a.salesCount/n*100).toFixed(2)),a.salesAmtRatio=Number((a.salesAmt/c*100).toFixed(2))},q,nt=function(a){var n=a.data;q||(q=new Set(n.map(function(s){return s.\u54C1\u724C})));var c=new Map;q.forEach(function(s){return c.set(s,{})});var m=0,p=0;n.forEach(function(s){var C=s.\u8FD130\u5929\u9500\u91CF;m+=C;var t=s["\u8FD130\u5929\u9500\u552E\u989D($)"];p+=t}),n.forEach(function(s){var C=Z()(c),t;try{for(C.s();!(t=C.n()).done;){var y=E()(t.value,2),g=y[0],x=y[1];s.\u54C1\u724C===g&&tt(g,x,s,m,p,"\u54C1\u724C")}}catch(F){C.e(F)}finally{C.f()}});var b=Array.from(c.values());b.map(function(s){et(s,m,p)}),console.log(b);var R={metadata:n,sortKey:"salesCount",groupKey:"\u54C1\u724C",option:{title:"\u54C1\u724C\u9500\u91CF\u96C6\u4E2D\u5EA6",xAxisName:"\u54C1\u724C",yAxisItemNames:["\u9500\u91CF","\u9500\u91CF\u5360\u6BD4"],legendData:["\u9500\u91CF\u5360\u6BD4"],bar:{name:"\u9500\u91CF",x:"group",y:"salesCount"},line:{name:"\u9500\u91CF\u5360\u6BD4",x:"group",y:"salesCountRatio"},tooltipFormatter:function(C){var t=C[0].data,y=["<b>\u6392\u540D: </b><span>".concat(t.ranking,"</span>"),"<b>\u5356\u5BB6: </b><span>".concat(t.group,"</span>"),"<b>\u5546\u54C1\u6570\u91CF/\u65B0\u54C1\u6570\u91CF: </b><span>".concat(t.productCount,"/").concat(t.newProductCount,"</span>"),"<b>\u6708\u9500\u91CF: </b><span>".concat(t.salesCount," (\u975E\u65B0\u54C1: ").concat(t.unNewProductSalesCount," \u65B0\u54C1: ").concat(t.newProductSalesCount,")</span>"),"<b>\u6708\u9500\u91CF\u5360\u6BD4: </b><span>".concat(t.salesCountRatio,"% (\u975E\u65B0\u54C1: ").concat(t.unNewProductSalesCountRatio,"% \u65B0\u54C1: ").concat(t.newProductSalesCountRatio,"%)</span>"),"<b>\u6708\u9500\u552E\u989D: </b><span>$".concat(t.salesAmt," (\u975E\u65B0\u54C1: $").concat(t.unNewProductSalesAmt," \u65B0\u54C1: $").concat(t.newProductSalesAmt,")</span>"),"<b>\u6708\u9500\u552E\u989D\u5360\u6BD4: </b><span>".concat(t.salesAmtRatio,"% (\u975E\u65B0\u54C1: ").concat(t.unNewProductSalesAmtRatio,"% \u65B0\u54C1: ").concat(t.newProductSalesAmtRatio,"%)</span>")];return y.join("<br/>")}}},f={metadata:n,sortKey:"salesAmt",groupKey:"\u54C1\u724C",option:{title:"\u54C1\u724C\u9500\u552E\u989D\u96C6\u4E2D\u5EA6",xAxisName:"\u54C1\u724C",yAxisItemNames:["\u9500\u552E\u989D","\u9500\u552E\u989D\u5360\u6BD4"],legendData:["\u9500\u552E\u989D\u5360\u6BD4"],bar:{name:"\u9500\u552E\u989D",x:"group",y:"salesAmt"},line:{name:"\u9500\u552E\u989D\u5360\u6BD4",x:"group",y:"salesAmtRatio"},tooltipFormatter:function(C){var t=C[0].data,y=["<b>\u6392\u540D: </b><span>".concat(t.ranking,"</span>"),"<b>\u5356\u5BB6: </b><span>".concat(t.group,"</span>"),"<b>\u5546\u54C1\u6570\u91CF/\u65B0\u54C1\u6570\u91CF: </b><span>".concat(t.productCount,"/").concat(t.newProductCount,"</span>"),"<b>\u6708\u9500\u91CF: </b><span>".concat(t.salesCount," (\u975E\u65B0\u54C1: ").concat(t.unNewProductSalesCount," \u65B0\u54C1: ").concat(t.newProductSalesCount,")</span>"),"<b>\u6708\u9500\u91CF\u5360\u6BD4: </b><span>".concat(t.salesCountRatio,"% (\u975E\u65B0\u54C1: ").concat(t.unNewProductSalesCountRatio,"% \u65B0\u54C1: ").concat(t.newProductSalesCountRatio,"%)</span>"),"<b>\u6708\u9500\u552E\u989D: </b><span>$".concat(t.salesAmt," (\u975E\u65B0\u54C1: $").concat(t.unNewProductSalesAmt," \u65B0\u54C1: $").concat(t.newProductSalesAmt,")</span>"),"<b>\u6708\u9500\u552E\u989D\u5360\u6BD4: </b><span>".concat(t.salesAmtRatio,"% (\u975E\u65B0\u54C1: ").concat(t.unNewProductSalesAmtRatio,"% \u65B0\u54C1: ").concat(t.newProductSalesAmtRatio,"%)</span>")];return y.join("<br/>")}}};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(Y,A()({},R)),(0,e.jsx)(Y,A()({},f))]})},ot=nt,rt=function(a){var n=[{label:"\u6708\u9500\u91CF",key:"MonthlySalesVolumeChart",children:(0,e.jsx)(Na,{data:a.data})},{label:"\u6708\u9500\u552E\u989D",key:"MonthlySalesChart",children:(0,e.jsx)(Ia,{data:a.data})},{label:"rating\u6570",key:"RatingQuantityChart",children:(0,e.jsx)(Za,{data:a.data})},{label:"\u8BC4\u5206\u6570",key:"ScoreQuantityChart",children:(0,e.jsx)(La,{data:a.data})},{label:"\u4EF7\u683C",key:"PriceChart",children:(0,e.jsx)(Ka,{data:a.data})},{label:"\u4E0A\u67B6\u65F6\u95F4",key:"AddedTimeChart",children:(0,e.jsx)(Ta,{data:a.data})},{label:"\u5356\u5BB6\u7C7B\u578B",key:"SellerTypeChart",children:(0,e.jsx)(Ua,{data:a.data})},{label:"\u5546\u54C1\u96C6\u4E2D\u5EA6",key:"ProductConcentrationChart",children:(0,e.jsx)(Ha,{data:a.data})},{label:"\u5356\u5BB6\u96C6\u4E2D\u5EA6",key:"SellerConcentrationChart",children:(0,e.jsx)(at,{data:a.data})},{label:"\u54C1\u724C\u96C6\u4E2D\u5EA6",key:"BrandConcentrationChart",children:(0,e.jsx)(ot,{data:a.data})}];return(0,e.jsx)(ta.Z,{defaultActiveKey:"1",centered:!0,items:n.map(function(c,m){return{label:c.label,key:c.key,children:c.children}})})},st=rt,ut=ya.Z.Dragger,lt=function(){var a=(0,O.useState)(!1),n=E()(a,2),c=n[0],m=n[1],p=(0,O.useState)(new Array),b=E()(p,2),R=b[0],f=b[1],s={name:"file",accept:".xlsx",multiple:!0,itemRender:function(){return(0,e.jsx)("span",{})},onChange:function(g){var x=g.file.status;x!=="uploading"&&console.log(g.file,g.fileList),x==="done"?H.ZP.success("".concat(g.file.name," file uploaded successfully.")):x==="error"&&H.ZP.error("".concat(g.file.name," file upload failed."))},onDrop:function(g){console.log("Dropped files",g.dataTransfer.files)},customRequest:function(g){var x=g.file;if(x instanceof File){m(!0);var F=new(Aa()).Workbook;x.arrayBuffer().then(function(D){F.xlsx.load(D).then(function(){var M=F.getWorksheet("US"),I=M.getRow(1).values;if(I instanceof Array){console.log(I);var S=["\u8FD130\u5929\u9500\u91CF","\u8BC4\u5206\u6570","\u8FD130\u5929\u9500\u552E\u989D($)","\u8BC4\u5206"];M.eachRow({includeEmpty:!0},function(o,r){if(!(r<=1)){var d=o.values;if(d instanceof Array){var v={};d.forEach(function(P,k){var u=I[k];if(u){var l=P;if(S.includes(u))typeof l!="number"&&(l=0);else if(u==="\u4E0A\u67B6\u65F6\u95F4"){var h=Date.parse(P);v.timestamp=h}else u==="\u5356\u5BB6\u6240\u5C5E\u5730"&&!P&&(l="\u672A\u77E5");v[u]=l}}),R.push(v)}else R.push(d);R.forEach(function(P){S.forEach(function(k){P[k]===void 0&&(P[k]=0)})})}})}}).then(function(){console.log(R);var M=Q().sortBy(R,"\u8FD130\u5929\u9500\u91CF").reverse();M.forEach(function(S,o){S.salesRanking=o+1});var I=Q().sortBy(R,"\u8FD130\u5929\u9500\u552E\u989D($)").reverse();I.forEach(function(S,o){S.salesAmtRanking=o+1}),f(Ca()(R))})}),H.ZP.success("\u5BFC\u5165\u6210\u529F")}else H.ZP.error("\u5BFC\u5165\u5931\u8D25")}},C=function(g){console.log(g)},t=[{key:"table",label:"\u8868\u683C",children:(0,e.jsx)(Ba,{})},{key:"charts",label:"\u56FE\u8868",children:(0,e.jsx)(st,{data:R})}];return c?(0,e.jsxs)("div",{children:[(0,e.jsx)(ha.ZP,{type:"primary",onClick:function(){m(!1),f([])},children:"\u91CD\u65B0\u5BFC\u5165"}),(0,e.jsx)(ta.Z,{defaultActiveKey:"1",items:t,onChange:C})]}):(0,e.jsxs)(ut,A()(A()({},s),{},{children:[(0,e.jsx)("p",{className:"ant-upload-drag-icon",children:(0,e.jsx)(va.Z,{})}),(0,e.jsx)("p",{className:"ant-upload-text",children:"Click or drag file to this area to upload"}),(0,e.jsx)("p",{className:"ant-upload-hint",children:"Support for a single or bulk upload. Strictly prohibited from uploading company data or ot\xCFher banned files."})]}))},it=lt}}]);
