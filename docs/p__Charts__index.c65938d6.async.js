"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[740],{47910:function(St,ea,B){B.r(ea),B.d(ea,{default:function(){return At}});var ga=B(97857),b=B.n(ga),Aa=B(19632),Sa=B.n(Aa),ba=B(5574),P=B.n(ba),Ra=B(15009),na=B.n(Ra),Fa=B(52677),oa=B.n(Fa),wa=B(99289),Ba=B.n(wa),Z=B(67294),Ea=B(64082),ja=B(71577),Pa=B(66476),X=B(2453),ra=B(49053),Da=B(74295),sa=B.n(Da),Na=B(96486),H=B.n(Na),ka=B(64240),e=B(85893),Ma=function(a){var n=a.data,i=n.columns,C=n.data,p=i.map(function(g,A){return{key:g,title:g,dataIndex:g}});return(0,e.jsx)(ka.Z,{columns:p,dataSource:C,scroll:{x:!0}})},Ia=Ma,Oa=B(96695),L=B.n(Oa),V=function(){return{countKey:"\u8FD130\u5929\u9500\u91CF",rankKey:"salesRanking",option:{title:"\u5546\u54C1\u9500\u91CF\u96C6\u4E2D\u5EA6",xAxisName:"\u9500\u91CF\u6392\u540D",yAxisItemNames:["\u9500\u91CF","\u9500\u91CF\u5360\u6BD4"]}}},U=B(78045),G=B(36934),Za=function(a){var n=new Array,i=(0,Z.useState)({}),C=P()(i,2),p=C[0],g=C[1],A=(0,Z.useState)(31104e6),m=P()(A,2),s=m[0],f=m[1];if(a.data){var t=0;a.data.forEach(function(y){var F=y[a.countKey];t+=F}),a.data.forEach(function(y){var F=y[a.countKey],x=y[a.rankKey],w={};w.salesRanking=x,w.salesCount=F,w.salesRatio=Number((F/t*100).toFixed(2));var D=Date.now();D<=y.timestamp+s?w.newProduct=1:w.newProduct=0,w.data=y,n.push(w)})}return n=H().sortBy(n,"salesRanking"),p={toolbox:{feature:{dataView:{show:!0,readOnly:!1},restore:{show:!0},saveAsImage:{show:!0}}},tooltip:{trigger:"axis",axisPointer:{type:"none",show:!1},formatter:function(F){var x=F[0].data,w=["<span>".concat(x.data.\u5546\u54C1\u6807\u9898,"</span>"),"<b>ASIN: </b><span>".concat(x.data.ASIN,"</span>"),"<b>\u54C1\u724C: </b><span>".concat(x.data.\u54C1\u724C,"</span>"),"<b>\u8FD130\u5929\u9500\u91CF: </b><span>".concat(x.data.\u8FD130\u5929\u9500\u91CF,"</span>"),"<b>\u8BC4\u5206/Rating: </b><span>".concat(x.data.\u8BC4\u5206,"/").concat(x.data.\u8BC4\u5206\u6570,"</span>"),"<b>\u8FD130\u5929\u9500\u552E\u989D($): </b><span>".concat(x.data["\u8FD130\u5929\u9500\u552E\u989D($)"],"</span>"),"<b>\u9500\u91CF\u6392\u540D: </b><span>".concat(x.salesRanking,"</span>"),"<b>\u5356\u5BB6\u4FE1\u606F: </b><span>".concat(x.data.\u5356\u5BB6\u4FE1\u606F.replace("\u516C\u53F8\u540D\u79F0\uFF1A","").replace(`
\u529E\u516C\u5730\u5740\uFF1A
`,"/").replaceAll(`
`,","),"</span>"),"<b>\u9500\u91CF\u5360\u6BD4: </b><span>".concat(x.salesRatio,"%</span>"),"<b>\u4EF7\u683C($): </b><span>".concat(x.data["\u4EF7\u683C($)"],"</span>"),"<b>\u4E0A\u67B6\u65F6\u95F4: </b><span>".concat(x.data.\u4E0A\u67B6\u65F6\u95F4,"</span>"),"<b>\u914D\u9001\u65B9\u5F0F: </b><span>".concat(x.data.\u914D\u9001\u65B9\u5F0F,"</span>"),'<image src="'.concat(x.data.\u5546\u54C1\u4E3B\u56FE.text,'" width="100"/>')];return w.join("<br/>")},extraCssText:"max-width: 600px; white-space:pre-wrap"},legend:{data:[a.option.yAxisItemNames[1]],selectedMode:!1},dataZoom:[{type:"inside"},{type:"slider"}],xAxis:[{name:a.option.xAxisName,nameLocation:"start",nameGap:40,type:"category"}],yAxis:[{type:"value",name:a.option.yAxisItemNames[0]},{type:"value",name:a.option.yAxisItemNames[1],axisLabel:{formatter:"{value} %"}}],dataset:{source:n},visualMap:{type:"piecewise",show:!0,pieces:[{min:0,max:0,color:"#556fc5",label:a.option.yAxisItemNames[0]},{min:1,max:1,color:"#91cd77",label:"\u65B0\u54C1".concat(a.option.yAxisItemNames[0])}],seriesIndex:0,dimension:3,orient:"horizontal",selectedMode:!1,hoverLink:!1,left:"auto",bottom:"auto",top:0,inRange:{color:"#91cd77"},outOfRange:{color:"#556fc5"}},series:[{name:a.option.yAxisItemNames[0],type:"bar",encode:{x:"salesRanking",y:"salesCount"}},{name:a.option.yAxisItemNames[1],type:"line",yAxisIndex:1,tooltip:{valueFormatter:function(F){return"".concat(F," %")}},encode:{x:"salesRanking",y:"salesRatio"}}]},(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("div",{style:{overflow:"hidden",padding:"0 0 10px 0"},children:(0,e.jsxs)("div",{style:{float:"right",clear:"both"},children:[(0,e.jsx)("span",{children:"\u65B0\u54C1\u5B9A\u4E49\uFF1A"}),(0,e.jsxs)(U.ZP.Group,{size:"small",defaultValue:s,onChange:function(F){var x=F.target.value,w=Date.now();p.dataset.source.forEach(function(D){w<=D.timestamp+Number(x)?D.newProduct=1:D.newProduct=0}),f(Number(x)),g(b()({},p))},children:[(0,e.jsx)(U.ZP.Button,{value:31104e6,children:"\u6700\u8FD11\u5E74"}),(0,e.jsx)(U.ZP.Button,{value:15552e6,children:"\u6700\u8FD16\u4E2A\u6708"}),(0,e.jsx)(U.ZP.Button,{value:7776e6,children:"\u6700\u8FD13\u4E2A\u6708"})]})]})}),(0,e.jsx)(G.Z,{option:p,onEvents:{click:function(F,x){console.log(F,x),window.open(F.data.data.URL.text,"_blank")}}})]})},T=Za,W=B(69400),ua=function(a){return a.max?"".concat(a.min,"-").concat(a.max):"".concat(a.min,"+")},$a=function(a){var n=(0,Z.useState)(!1),i=P()(n,2),C=i[0],p=i[1],g=function(){p(!0)},A=function(){p(!1)},m=[{min:0,max:99},{min:100,max:199},{min:200,max:299},{min:300,max:399},{min:400,max:499},{min:500,max:999},{min:1e3,max:1499},{min:1500,max:1999},{min:2e3,max:2999},{min:3e3,max:4999},{min:5e3,max:9999},{min:1e4}],s=new Map;m.forEach(function(o){return s.set(o,{})});var f=a.data,t=0;f.forEach(function(o){var r=o.\u8FD130\u5929\u9500\u91CF;t+=r}),f.forEach(function(o){var r=L()(s),l;try{var v=function(){var O=P()(l.value,2),d=O[0],c=O[1],h=o.\u8FD130\u5929\u9500\u91CF;if(d.min===d.max&&d.min==h||d.min!==void 0&&d.max!==void 0&&d.min<=h&&d.max>=h||d.min!==void 0&&d.max===void 0&&d.min>=h){c.list||(c.list=[]),c.list[c.list.length]=o,c.productCount||(c.productCount=0),c.productCount++,c.salesRange||(c.salesRange=ua(d));var u=0;c.list.forEach(function(S){var M=S.\u8FD130\u5929\u9500\u91CF;u+=M}),c.salesCount=u,c.salesRatio=Number((u/t*100).toFixed(2))}};for(r.s();!(l=r.n()).done;)v()}catch(k){r.e(k)}finally{r.f()}}),console.log("\u603B\u9500\u91CF ".concat(t));var y=Array.from(s.values()),F=(0,Z.useState)(new Array),x=P()(F,2),w=x[0],D=x[1],N={tooltip:{trigger:"axis",axisPointer:{type:"cross",crossStyle:{color:"#999"}}},toolbox:{feature:{dataView:{show:!0,readOnly:!1},restore:{show:!0},saveAsImage:{show:!0}}},legend:{data:["\u4EA7\u54C1\u6570\u91CF","\u9500\u91CF\u5360\u6BD4"]},dataZoom:[{type:"inside"},{type:"slider"}],xAxis:[{name:"\u9500\u91CF\u533A\u95F4",nameLocation:"start",nameGap:40,type:"category",data:m.map(ua)}],yAxis:[{type:"value",name:"\u4EA7\u54C1\u6570\u91CF"},{type:"value",name:"\u9500\u91CF\u5360\u6BD4",axisLabel:{formatter:"{value} %"}}],dataset:{source:y},series:[{name:"\u4EA7\u54C1\u6570\u91CF",type:"bar",tooltip:{valueFormatter:function(r){return r}},encode:{x:"salesRange",y:"productCount"}},{name:"\u9500\u91CF\u5360\u6BD4",type:"line",yAxisIndex:1,tooltip:{valueFormatter:function(r){return r+" %"}},encode:{x:"salesRange",y:"salesRatio"}}]},I=function(r,l){console.log(r,l),D(r.value.list),g()},j=b()(b()({},V()),{},{data:w});return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(G.Z,{option:N,onChartReady:function(){return console.log("echarts ready ok")},onEvents:{click:I}}),(0,e.jsx)(W.Z,{footer:null,maskClosable:!1,centered:!0,title:"\u5546\u54C1\u5217\u8868",width:1200,open:C,onCancel:A,afterOpenChange:function(r){},children:(0,e.jsx)(T,b()({},j))})]})},La=$a,ia=function(a){return a.max?"".concat(a.min,"-").concat(a.max):"".concat(a.min,"+")},Ka=function(a){var n=(0,Z.useState)(!1),i=P()(n,2),C=i[0],p=i[1],g=function(){p(!0)},A=function(){p(!1)},m=[{min:0,max:999},{min:1e3,max:4999},{min:5e3,max:9999},{min:1e4,max:19999},{min:2e4,max:49999},{min:5e4,max:99999},{min:1e5}],s=new Map;m.forEach(function(o){return s.set(o,{})});var f=a.data,t=0;f.forEach(function(o){var r=o.\u8FD130\u5929\u9500\u91CF;t+=r}),f.forEach(function(o){var r=L()(s),l;try{var v=function(){var O=P()(l.value,2),d=O[0],c=O[1],h=o["\u8FD130\u5929\u9500\u552E\u989D($)"];if(d.min===d.max&&d.min==h||d.min!==void 0&&d.max!==void 0&&d.min<=h&&d.max>=h||d.min!==void 0&&d.max===void 0&&d.min<=h){c.list||(c.list=[]),c.list[c.list.length]=o,c.productCount||(c.productCount=0),c.productCount++,c.salesRange||(c.salesRange=ia(d));var u=0;c.list.forEach(function(S){var M=S.\u8FD130\u5929\u9500\u91CF;u+=M}),c.salesCount=u,c.salesRatio=Number((u/t*100).toFixed(2))}};for(r.s();!(l=r.n()).done;)v()}catch(k){r.e(k)}finally{r.f()}}),console.log("\u603B\u9500\u91CF ".concat(t));var y=Array.from(s.values()),F=(0,Z.useState)(new Array),x=P()(F,2),w=x[0],D=x[1],N={tooltip:{trigger:"axis",axisPointer:{type:"cross",crossStyle:{color:"#999"}}},toolbox:{feature:{dataView:{show:!0,readOnly:!1},restore:{show:!0},saveAsImage:{show:!0}}},legend:{data:["\u4EA7\u54C1\u6570\u91CF","\u9500\u91CF\u5360\u6BD4"]},dataZoom:[{type:"inside"},{type:"slider"}],xAxis:[{name:"\u9500\u552E\u989D\u533A\u95F4",nameLocation:"start",nameGap:40,type:"category",data:m.map(ia)}],yAxis:[{type:"value",name:"\u4EA7\u54C1\u6570\u91CF"},{type:"value",name:"\u9500\u91CF\u5360\u6BD4",axisLabel:{formatter:"{value} %"}}],dataset:{source:y},series:[{name:"\u4EA7\u54C1\u6570\u91CF",type:"bar",tooltip:{valueFormatter:function(r){return r}},encode:{x:"salesRange",y:"productCount"}},{name:"\u9500\u91CF\u5360\u6BD4",type:"line",yAxisIndex:1,tooltip:{valueFormatter:function(r){return r+" %"}},encode:{x:"salesRange",y:"salesRatio"}}]},I=function(r,l){console.log(r,l),D(r.value.list),g()},j=b()(b()({},V()),{},{data:w});return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(G.Z,{option:N,onChartReady:function(){return console.log("echarts ready ok")},onEvents:{click:I}}),(0,e.jsx)(W.Z,{footer:null,maskClosable:!1,centered:!0,title:"\u5546\u54C1\u5217\u8868",width:1200,open:C,onCancel:A,afterOpenChange:function(r){},children:(0,e.jsx)(T,b()({},j))})]})},Ga=Ka,la=function(a){return a.min===a.max?"".concat(a.min):a.max!==void 0?"".concat(a.min,"-").concat(a.max):"".concat(a.min,"+")},Ta=function(a){var n=(0,Z.useState)(!1),i=P()(n,2),C=i[0],p=i[1],g=function(){p(!0)},A=function(){p(!1)},m=[{min:0,max:0},{min:1,max:49},{min:50,max:99},{min:100,max:499},{min:500,max:999},{min:1e3,max:4999},{min:5e3,max:9999},{min:1e4}],s=new Map;m.forEach(function(o){return s.set(o,{})});var f=a.data,t=0;f.forEach(function(o){var r=o.\u8FD130\u5929\u9500\u91CF;t+=r}),f.forEach(function(o){var r=L()(s),l;try{var v=function(){var O=P()(l.value,2),d=O[0],c=O[1],h=o.\u8BC4\u5206\u6570;if(d.min===d.max&&d.min==h||d.min!==void 0&&d.max!==void 0&&d.min<=h&&d.max>=h||d.min!==void 0&&d.max===void 0&&d.min<=h){c.list||(c.list=[]),c.list[c.list.length]=o,c.productCount||(c.productCount=0),c.productCount++,c.salesRange||(c.salesRange=la(d));var u=0;c.list.forEach(function(S){var M=S.\u8FD130\u5929\u9500\u91CF;u+=M}),c.salesCount=u,c.salesRatio=Number((u/t*100).toFixed(2))}};for(r.s();!(l=r.n()).done;)v()}catch(k){r.e(k)}finally{r.f()}}),console.log("\u603B\u9500\u91CF ".concat(t));var y=Array.from(s.values()),F=(0,Z.useState)(new Array),x=P()(F,2),w=x[0],D=x[1],N={tooltip:{trigger:"axis",axisPointer:{type:"cross",crossStyle:{color:"#999"}}},toolbox:{feature:{dataView:{show:!0,readOnly:!1},restore:{show:!0},saveAsImage:{show:!0}}},legend:{data:["\u4EA7\u54C1\u6570\u91CF","\u9500\u91CF\u5360\u6BD4"]},dataZoom:[{type:"inside"},{type:"slider"}],xAxis:[{name:"\u8BC4\u5206\u6570",nameLocation:"start",nameGap:40,type:"category",data:m.map(la)}],yAxis:[{type:"value",name:"\u4EA7\u54C1\u6570\u91CF"},{type:"value",name:"\u9500\u91CF\u5360\u6BD4",axisLabel:{formatter:"{value} %"}}],dataset:{source:y},series:[{name:"\u4EA7\u54C1\u6570\u91CF",type:"bar",tooltip:{valueFormatter:function(r){return r}},encode:{x:"salesRange",y:"productCount"}},{name:"\u9500\u91CF\u5360\u6BD4",type:"line",yAxisIndex:1,tooltip:{valueFormatter:function(r){return r+" %"}},encode:{x:"salesRange",y:"salesRatio"}}]},I=function(r,l){console.log(r,l),D(r.value.list),g()},j=b()(b()({},V()),{},{data:w});return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(G.Z,{option:N,onChartReady:function(){return console.log("echarts ready ok")},onEvents:{click:I}}),(0,e.jsx)(W.Z,{footer:null,maskClosable:!1,centered:!0,title:"\u5546\u54C1\u5217\u8868",width:1200,open:C,onCancel:A,afterOpenChange:function(r){},children:(0,e.jsx)(T,b()({},j))})]})},Va=Ta,ca=function(a){return a.max?"".concat(a.min,"-").concat(a.max):"".concat(a.min,"+")},Ua=function(a){var n=(0,Z.useState)(!1),i=P()(n,2),C=i[0],p=i[1],g=function(){p(!0)},A=function(){p(!1)},m=[{min:0,max:1.9},{min:2,max:2.9},{min:3,max:3.9},{min:4,max:4.4},{min:4.5}],s=new Map;m.forEach(function(o){return s.set(o,{})});var f=a.data,t=0;f.forEach(function(o){var r=o.\u8FD130\u5929\u9500\u91CF;t+=r}),f.forEach(function(o){var r=L()(s),l;try{var v=function(){var O=P()(l.value,2),d=O[0],c=O[1],h=o.\u8BC4\u5206;if(d.min===d.max&&d.min==h||d.min!==void 0&&d.max!==void 0&&d.min<=h&&d.max>=h||d.min!==void 0&&d.max===void 0&&d.min<=h){c.list||(c.list=[]),c.list[c.list.length]=o,c.productCount||(c.productCount=0),c.productCount++,c.salesRange||(c.salesRange=ca(d));var u=0;c.list.forEach(function(S){var M=S.\u8FD130\u5929\u9500\u91CF;u+=M}),c.salesCount=u,c.salesRatio=Number((u/t*100).toFixed(2))}};for(r.s();!(l=r.n()).done;)v()}catch(k){r.e(k)}finally{r.f()}}),console.log("\u603B\u9500\u91CF ".concat(t));var y=Array.from(s.values()),F=(0,Z.useState)(new Array),x=P()(F,2),w=x[0],D=x[1],N={tooltip:{trigger:"axis",axisPointer:{type:"cross",crossStyle:{color:"#999"}}},toolbox:{feature:{dataView:{show:!0,readOnly:!1},restore:{show:!0},saveAsImage:{show:!0}}},legend:{data:["\u4EA7\u54C1\u6570\u91CF","\u9500\u91CF\u5360\u6BD4"]},dataZoom:[{type:"inside"},{type:"slider"}],xAxis:[{name:"\u8BC4\u5206\u6570",nameLocation:"start",nameGap:40,type:"category",data:m.map(ca)}],yAxis:[{type:"value",name:"\u4EA7\u54C1\u6570\u91CF"},{type:"value",name:"\u9500\u91CF\u5360\u6BD4",axisLabel:{formatter:"{value} %"}}],dataset:{source:y},series:[{name:"\u4EA7\u54C1\u6570\u91CF",type:"bar",tooltip:{valueFormatter:function(r){return r}},encode:{x:"salesRange",y:"productCount"}},{name:"\u9500\u91CF\u5360\u6BD4",type:"line",yAxisIndex:1,tooltip:{valueFormatter:function(r){return r+" %"}},encode:{x:"salesRange",y:"salesRatio"}}]},I=function(r,l){console.log(r,l),D(r.value.list),g()},j=b()(b()({},V()),{},{data:w});return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(G.Z,{option:N,onChartReady:function(){return console.log("echarts ready ok")},onEvents:{click:I}}),(0,e.jsx)(W.Z,{footer:null,maskClosable:!1,centered:!0,title:"\u5546\u54C1\u5217\u8868",width:1200,open:C,onCancel:A,afterOpenChange:function(r){},children:(0,e.jsx)(T,b()({},j))})]})},Wa=Ua,da=function(a){return a.max?"".concat(a.min,"-").concat(a.max):"".concat(a.min,"+")},za=function(a){var n=(0,Z.useState)(!1),i=P()(n,2),C=i[0],p=i[1],g=function(){p(!0)},A=function(){p(!1)},m=[{min:0,max:9.99},{min:10,max:19.99},{min:20,max:29.99},{min:30,max:39.99},{min:40,max:49.99},{min:50,max:74.99},{min:75,max:99.99},{min:100,max:149.99},{min:150,max:199.99},{min:200,max:299.99},{min:300}],s=new Map;m.forEach(function(l){return s.set(l,{})});var f=a.data,t=0,y=f.length,F=0;f.forEach(function(l){var v=l.\u8FD130\u5929\u9500\u91CF;t+=v;var k=Number(l["\u8FD130\u5929\u9500\u552E\u989D($)"]);F+=k}),f.forEach(function(l){var v=L()(s),k;try{var O=function(){var c=P()(k.value,2),h=c[0],u=c[1],S=l["\u4EF7\u683C($)"];if(h.min===h.max&&h.min==S||h.min!==void 0&&h.max!==void 0&&h.min<=S&&h.max>=S||h.min!==void 0&&h.max===void 0&&h.min<=S){u.list||(u.list=[]),u.list[u.list.length]=l,u.productCount||(u.productCount=0),u.productCount++,u.salesRange||(u.salesRange=da(h));var M=0,$=0;u.list.forEach(function(K){var Q=K.\u8FD130\u5929\u9500\u91CF,z=Number(K["\u8FD130\u5929\u9500\u552E\u989D($)"]);M+=Q,$+=z}),u.salesCount=M,u.salesRatio=Number((M/t*100).toFixed(2)),u.productCountRatio=Number((u.productCount/y*100).toFixed(2)),u.salesAmtRatio=Number(($/F*100).toFixed(2))}};for(v.s();!(k=v.n()).done;)O()}catch(d){v.e(d)}finally{v.f()}}),console.log("\u603B\u9500\u91CF ".concat(t));var x=Array.from(s.values()),w=(0,Z.useState)(new Array),D=P()(w,2),N=D[0],I=D[1],j={tooltip:{trigger:"axis",axisPointer:{type:"cross",crossStyle:{color:"#999"}}},toolbox:{feature:{dataView:{show:!0,readOnly:!1},restore:{show:!0},saveAsImage:{show:!0}}},legend:{data:["\u4EA7\u54C1\u6570\u91CF","\u9500\u91CF\u5360\u6BD4","\u6570\u91CF\u5360\u6BD4","\u9500\u552E\u989D\u5360\u6BD4"]},dataZoom:[{type:"inside"},{type:"slider"}],xAxis:[{name:"\u4EF7\u683C($)",nameLocation:"start",nameGap:40,type:"category",data:m.map(da)}],yAxis:[{type:"value",name:"\u4EA7\u54C1\u6570\u91CF"},{type:"value",name:"\u9500\u91CF\u5360\u6BD4",axisLabel:{formatter:"{value} %"}}],dataset:{source:x},series:[{name:"\u4EA7\u54C1\u6570\u91CF",type:"bar",tooltip:{valueFormatter:function(v){return v}},encode:{x:"salesRange",y:"productCount"}},{name:"\u9500\u91CF\u5360\u6BD4",type:"line",yAxisIndex:1,tooltip:{valueFormatter:function(v){return v+" %"}},encode:{x:"salesRange",y:"salesRatio"}},{name:"\u6570\u91CF\u5360\u6BD4",type:"line",yAxisIndex:1,tooltip:{valueFormatter:function(v){return v+" %"}},encode:{x:"salesRange",y:"productCountRatio"}},{name:"\u9500\u552E\u989D\u5360\u6BD4",type:"line",yAxisIndex:1,tooltip:{valueFormatter:function(v){return v+" %"}},encode:{x:"salesRange",y:"salesAmtRatio"}}]},o=function(v,k){console.log(v,k),I(v.value.list),g()},r=b()(b()({},V()),{},{data:N});return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(G.Z,{option:j,onChartReady:function(){return console.log("echarts ready ok")},onEvents:{click:o}}),(0,e.jsx)(W.Z,{footer:null,maskClosable:!1,centered:!0,title:"\u5546\u54C1\u5217\u8868",width:1200,open:C,onCancel:A,afterOpenChange:function(v){},children:(0,e.jsx)(T,b()({},r))})]})},Qa=za,Ha=function(a){var n=(0,Z.useState)(!1),i=P()(n,2),C=i[0],p=i[1],g=function(){p(!0)},A=function(){p(!1)},m=60*60*24*30*1e3,s=[{min:0,max:m-1,title:"\u4E00\u4E2A\u6708"},{min:m,max:m*3-1,title:"3\u4E2A\u6708"},{min:m*3,max:m*6-1,title:"\u534A\u5E74"},{min:m*6,max:m*12-1,title:"1\u5E74"},{min:m*12,max:m*18-1,title:"1\u5E74\u534A"},{min:m*18,max:m*24-1,title:"2\u5E74"},{min:m*24,max:m*30-1,title:"2\u5E74\u534A"},{min:m*30,max:m*36-1,title:"3\u5E74"},{min:m*36,title:"3\u5E74\u4EE5\u4E0A"}],f=new Map;s.forEach(function(l){return f.set(l,{})});var t=a.data,y=0;t.forEach(function(l){var v=l.\u8FD130\u5929\u9500\u91CF;y+=v});var F=Date.now();t.forEach(function(l){var v=L()(f),k;try{var O=function(){var c=P()(k.value,2),h=c[0],u=c[1],S=F-l.timestamp;if(h.min===h.max&&h.min==S||h.min!==void 0&&h.max!==void 0&&h.min<=S&&h.max>=S||h.min!==void 0&&h.max===void 0&&h.min<=S){u.list||(u.list=[]),u.list[u.list.length]=l,u.productCount||(u.productCount=0),u.productCount++,u.salesRange||(u.salesRange=h.title);var M=0;u.list.forEach(function($){var K=$.\u8FD130\u5929\u9500\u91CF;M+=K}),u.salesCount=M,u.salesRatio=Number((M/y*100).toFixed(2))}};for(v.s();!(k=v.n()).done;)O()}catch(d){v.e(d)}finally{v.f()}}),console.log("\u603B\u9500\u91CF ".concat(y));var x=Array.from(f.values()),w=(0,Z.useState)(new Array),D=P()(w,2),N=D[0],I=D[1],j={tooltip:{trigger:"axis",axisPointer:{type:"cross",crossStyle:{color:"#999"}}},toolbox:{feature:{dataView:{show:!0,readOnly:!1},restore:{show:!0},saveAsImage:{show:!0}}},legend:{data:["\u4EA7\u54C1\u6570\u91CF","\u9500\u91CF\u5360\u6BD4"]},dataZoom:[{type:"inside"},{type:"slider"}],xAxis:[{name:"\u4EF7\u683C($)",nameLocation:"start",nameGap:40,type:"category",data:s.map(function(l){return l.title})}],yAxis:[{type:"value",name:"\u4EA7\u54C1\u6570\u91CF"},{type:"value",name:"\u9500\u91CF\u5360\u6BD4",axisLabel:{formatter:"{value} %"}}],dataset:{source:x},series:[{name:"\u4EA7\u54C1\u6570\u91CF",type:"bar",tooltip:{valueFormatter:function(v){return v}},encode:{x:"salesRange",y:"productCount"}},{name:"\u9500\u91CF\u5360\u6BD4",type:"line",yAxisIndex:1,tooltip:{valueFormatter:function(v){return v+" %"}},encode:{x:"salesRange",y:"salesRatio"}}]},o=function(v,k){console.log(v,k),I(v.value.list),g()},r=b()(b()({},V()),{},{data:N});return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(G.Z,{option:j,onChartReady:function(){return console.log("echarts ready ok")},onEvents:{click:o}}),(0,e.jsx)(W.Z,{footer:null,maskClosable:!1,centered:!0,title:"\u5546\u54C1\u5217\u8868",width:1200,open:C,onCancel:A,afterOpenChange:function(v){},children:(0,e.jsx)(T,b()({},r))})]})},Xa=Ha,ma=["AMZ","FBA","FBM"],fa=["CN","US","\u672A\u77E5"],pa={nameLocation:"start",nameGap:40,type:"category"},Ca={tooltip:{trigger:"axis",axisPointer:{type:"cross",crossStyle:{color:"#999"}}},toolbox:{feature:{dataView:{show:!0,readOnly:!1},restore:{show:!0},saveAsImage:{show:!0}}},legend:{data:["\u4EA7\u54C1\u6570\u91CF","\u9500\u91CF\u5360\u6BD4"]},dataZoom:[{type:"inside"},{type:"slider"}],xAxis:[{nameLocation:"start",nameGap:40,type:"category"}],yAxis:[{type:"value",name:"\u4EA7\u54C1\u6570\u91CF"},{type:"value",name:"\u9500\u91CF\u5360\u6BD4",axisLabel:{formatter:"{value} %"}}],dataset:{source:[]},series:[{name:"\u4EA7\u54C1\u6570\u91CF",type:"bar",tooltip:{valueFormatter:function(a){return a}},encode:{x:"salesRange",y:"productCount"}},{name:"\u9500\u91CF\u5360\u6BD4",type:"line",yAxisIndex:1,tooltip:{valueFormatter:function(a){return a+" %"}},encode:{x:"salesRange",y:"salesRatio"}}]},J=b()({},Ca),Y=b()({},Ca);J.title={name:"\u914D\u9001\u65B9\u5F0F"},J.xAxis=[b()(b()({},pa),{},{name:"\u914D\u9001\u65B9\u5F0F",data:ma})],Y.title={name:"\u5356\u5BB6\u5730\u533A"},Y.xAxis=[b()(b()({},pa),{},{name:"\u5356\u5BB6\u5730\u533A",data:fa})];var ha=function(a,n,i,C,p,g){n.list||(n.list=[]),n.list[n.list.length]=i,n.productCount||(n.productCount=0),n.productCount++,n.salesRange=i[g];var A=0;n.list.forEach(function(m){var s=m.\u8FD130\u5929\u9500\u91CF;A+=s}),n.salesRatio=Number((A/C*100).toFixed(2)),n.productCountRatio=Number((n.productCount/p*100).toFixed(2))},Ja=function(a){var n=(0,Z.useState)(!1),i=P()(n,2),C=i[0],p=i[1],g=function(){p(!0)},A=function(){p(!1)},m=new Map;ma.forEach(function(j){return m.set(j,{})});var s=new Map;fa.forEach(function(j){return s.set(j,{})});var f=a.data,t=0,y=f.length;f.forEach(function(j){var o=j.\u8FD130\u5929\u9500\u91CF;t+=o}),f.forEach(function(j){var o=L()(m),r;try{for(o.s();!(r=o.n()).done;){var l=P()(r.value,2),v=l[0],k=l[1];j.\u914D\u9001\u65B9\u5F0F===v&&ha(v,k,j,t,y,"\u914D\u9001\u65B9\u5F0F")}}catch(S){o.e(S)}finally{o.f()}var O=L()(s),d;try{for(O.s();!(d=O.n()).done;){var c=P()(d.value,2),h=c[0],u=c[1];j.\u5356\u5BB6\u6240\u5C5E\u5730===h&&ha(h,u,j,t,y,"\u5356\u5BB6\u6240\u5C5E\u5730")}}catch(S){O.e(S)}finally{O.f()}}),console.log(Array.from(m.values()));var F=(0,Z.useState)(new Array),x=P()(F,2),w=x[0],D=x[1];J.dataset={source:Array.from(m.values())},Y.dataset={source:Array.from(s.values())};var N=function(o,r){console.log(o,r),D(o.value.list),g()},I=b()(b()({},V()),{},{data:w});return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(G.Z,{option:J,onChartReady:function(){return console.log("echarts ready ok")},onEvents:{click:N}}),(0,e.jsx)(G.Z,{option:Y,onChartReady:function(){return console.log("echarts ready ok")},onEvents:{click:N}}),(0,e.jsx)(W.Z,{footer:null,maskClosable:!1,centered:!0,title:"\u5546\u54C1\u5217\u8868",width:1200,open:C,onCancel:A,afterOpenChange:function(o){},children:(0,e.jsx)(T,b()({},I))})]})},Ya=Ja,qa=function(a){var n=a.data;console.log(n);var i=b()(b()({},V()),{},{data:n}),C={data:n,rankKey:"salesAmtRanking",countKey:"\u8FD130\u5929\u9500\u552E\u989D($)",option:{title:"\u5546\u54C1\u9500\u91CF\u989D\u96C6\u4E2D\u5EA6",xAxisName:"\u9500\u91CF\u989D\u6392\u540D",yAxisItemNames:["\u9500\u91CF\u989D","\u9500\u91CF\u989D\u5360\u6BD4"]}};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(T,b()({},i)),(0,e.jsx)(T,b()({},C))]})},_a=qa,at=function(a,n){return{tooltip:{trigger:"axis",axisPointer:{type:"none"},formatter:a.option.tooltipFormatter,extraCssText:"max-width: 600px; white-space:pre-wrap"},toolbox:{feature:{dataView:{show:!0,readOnly:!1},restore:{show:!0},saveAsImage:{show:!0}}},legend:{data:a.option.legendData},dataZoom:[{type:"inside"},{type:"slider"}],xAxis:[{name:a.option.xAxisName,nameLocation:"start",nameGap:40,type:"category"}],yAxis:[{type:"value",name:a.option.yAxisItemNames[0]},{type:"value",name:a.option.yAxisItemNames[0],axisLabel:{formatter:"{value} %"}}],dataset:{source:n},visualMap:{type:"piecewise",show:!0,pieces:[{min:0,max:0,color:"#556fc5",label:a.option.yAxisItemNames[0]},{min:1,max:1,color:"#91cd77",label:"\u65B0\u54C1".concat(a.option.yAxisItemNames[0])}],seriesIndex:0,dimension:16,orient:"horizontal",selectedMode:!1,hoverLink:!1,left:"auto",bottom:"auto",top:0,inRange:{color:"#91cd77"},outOfRange:{color:"#556fc5"}},series:[{name:a.option.bar.name,type:"bar",tooltip:{valueFormatter:function(C){return C}},encode:{x:a.option.bar.x,y:a.option.bar.y}},{name:a.option.line.name,type:"line",yAxisIndex:1,tooltip:{valueFormatter:function(C){return C+" %"}},encode:{x:a.option.line.x,y:a.option.line.y}}]}},tt=function(a,n,i,C,p){n.list||(n.list=[]),n.list[n.list.length]=i,n.group=i[C];var g=Date.now();i.newProduct=g<=i.timestamp+Number(p)?1:0,n.data=i},va=function(a,n,i){a.salesCount=0,a.salesAmt=0,a.productCount=a.list.length;var C=0,p=0,g=0,A=0;a.list.forEach(function(m){var s=m.\u8FD130\u5929\u9500\u91CF;a.salesCount+=s;var f=m["\u8FD130\u5929\u9500\u552E\u989D($)"];a.salesAmt+=f,m.newProduct===1&&(g=1,C++,p+=m["\u8FD130\u5929\u9500\u552E\u989D($)"],A+=s)}),a.newProductSalesCount=A,a.unNewProductSalesCount=a.salesCount-A,a.newProductCount=C,a.unNewProductCount=a.productCount-a.newProductCount,a.newProductSalesAmt=p,a.unNewProductSalesAmt=a.salesAmt-a.newProductSalesAmt,a.newProductSalesAmtRatio=Number((a.newProductSalesAmt/a.salesAmt*100).toFixed(2)),a.unNewProductSalesAmtRatio=100-a.newProductSalesAmtRatio,a.newProductSalesCountRatio=Number((a.newProductSalesCount/a.salesCount*100).toFixed(2)),a.unNewProductSalesCountRatio=100-a.newProductSalesCountRatio,a.newProduct=g,a.salesCountRatio=Number((a.salesCount/n*100).toFixed(2)),a.salesAmtRatio=Number((a.salesAmt/i*100).toFixed(2))},et=function(a){var n=(0,Z.useState)(31104e6),i=P()(n,2),C=i[0],p=i[1],g=(0,Z.useState)(!1),A=P()(g,2),m=A[0],s=A[1],f=(0,Z.useState)(new Array),t=P()(f,2),y=t[0],F=t[1],x=function(){s(!0)},w=function(){s(!1)},D=function(S,M){console.log(S,M),F(S.value.list),x()},N=a.metadata,I=0,j=0;N.forEach(function(u){var S=u.\u8FD130\u5929\u9500\u91CF;I+=S;var M=u["\u8FD130\u5929\u9500\u552E\u989D($)"];j+=M;var $=Date.now();u.newProduct=$<=u.timestamp+C?1:0});var o=new Set(N.map(function(u){return u[a.groupKey]})),r=new Map;o.forEach(function(u){return r.set(u,{})}),N.forEach(function(u){var S=L()(r),M;try{for(S.s();!(M=S.n()).done;){var $=P()(M.value,2),K=$[0],Q=$[1];u[a.groupKey]===K&&tt(K,Q,u,a.groupKey,C)}}catch(z){S.e(z)}finally{S.f()}});var l=Array.from(r.values());l.map(function(u,S){va(u,I,j)}),l=H().sortBy(l,a.sortKey).reverse(),l.forEach(function(u,S){return u.ranking=S+1});var v=at(a,l),k=(0,Z.useState)(v),O=P()(k,2),d=O[0],c=O[1];console.log(d);var h=b()(b()({},V()),{},{data:y});return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("div",{style:{overflow:"hidden",padding:"0 0 10px 0"},children:(0,e.jsxs)("div",{style:{float:"right",clear:"both"},children:[(0,e.jsx)("span",{children:"\u65B0\u54C1\u5B9A\u4E49\uFF1A"}),(0,e.jsxs)(U.ZP.Group,{size:"small",defaultValue:C,onChange:function(S){var M=S.target.value,$=Date.now();d.dataset.source.forEach(function(K){var Q=0;K.list.forEach(function(z){$<=z.timestamp+Number(M)?(Q=1,z.newProduct=1):z.newProduct=0}),K.newProduct=Q,va(K,I,j)}),p(Number(M)),c(b()({},d))},children:[(0,e.jsx)(U.ZP.Button,{value:31104e6,children:"\u6700\u8FD11\u5E74"}),(0,e.jsx)(U.ZP.Button,{value:15552e6,children:"\u6700\u8FD16\u4E2A\u6708"}),(0,e.jsx)(U.ZP.Button,{value:7776e6,children:"\u6700\u8FD13\u4E2A\u6708"})]})]})}),(0,e.jsx)(G.Z,{option:d,onEvents:{click:D}}),(0,e.jsx)(W.Z,{footer:null,maskClosable:!1,centered:!0,title:"\u5546\u54C1\u5217\u8868",width:1200,open:m,onCancel:w,afterOpenChange:function(S){},children:(0,e.jsx)(T,b()({},h))})]})},q=et,nt=function(a,n,i,C,p,g){n.list||(n.list=[]),n.list[n.list.length]=i,n.salesRange=i[g]},ot=function(a,n,i){a.salesCount===void 0&&(a.salesCount=0),a.salesAmt===void 0&&(a.salesAmt=0),a.list.forEach(function(C){var p=C.\u8FD130\u5929\u9500\u91CF;a.salesCount+=p;var g=C["\u8FD130\u5929\u9500\u552E\u989D($)"];a.salesAmt+=g}),a.salesRatio=Number((a.salesCount/n*100).toFixed(2)),a.salesAmtRatio=Number((a.salesAmt/i*100).toFixed(2))},_,rt=function(a){var n=a.data;_||(_=new Set(n.map(function(s){return s.Buybox\u5356\u5BB6})));var i=new Map;_.forEach(function(s){return i.set(s,{})});var C=0,p=0;n.forEach(function(s){var f=s.\u8FD130\u5929\u9500\u91CF;C+=f;var t=s["\u8FD130\u5929\u9500\u552E\u989D($)"];p+=t}),n.forEach(function(s){var f=L()(i),t;try{for(f.s();!(t=f.n()).done;){var y=P()(t.value,2),F=y[0],x=y[1];s.Buybox\u5356\u5BB6===F&&nt(F,x,s,C,p,"Buybox\u5356\u5BB6")}}catch(w){f.e(w)}finally{f.f()}});var g=Array.from(i.values());g.map(function(s){ot(s,C,p)}),console.log(g);var A={metadata:n,sortKey:"salesCount",groupKey:"Buybox\u5356\u5BB6",option:{title:"\u5356\u5BB6\u9500\u91CF\u96C6\u4E2D\u5EA6",xAxisName:"\u5356\u5BB6",yAxisItemNames:["\u9500\u91CF","\u9500\u91CF\u5360\u6BD4"],legendData:["\u9500\u91CF\u5360\u6BD4"],bar:{name:"\u9500\u91CF",x:"group",y:"salesCount"},line:{name:"\u9500\u91CF\u5360\u6BD4",x:"group",y:"salesCountRatio"},tooltipFormatter:function(f){var t=f[0].data,y=["<b>\u6392\u540D: </b><span>".concat(t.ranking,"</span>"),"<b>\u5356\u5BB6: </b><span>".concat(t.group,"</span>"),"<b>\u5546\u54C1\u6570\u91CF/\u65B0\u54C1\u6570\u91CF: </b><span>".concat(t.productCount,"/").concat(t.newProductCount,"</span>"),"<b>\u6708\u9500\u91CF: </b><span>".concat(t.salesCount," (\u975E\u65B0\u54C1: ").concat(t.unNewProductSalesCount," \u65B0\u54C1: ").concat(t.newProductSalesCount,")</span>"),"<b>\u6708\u9500\u91CF\u5360\u6BD4: </b><span>".concat(t.salesCountRatio,"% (\u975E\u65B0\u54C1: ").concat(t.unNewProductSalesCountRatio,"% \u65B0\u54C1: ").concat(t.newProductSalesCountRatio,"%)</span>"),"<b>\u6708\u9500\u552E\u989D: </b><span>$".concat(t.salesAmt," (\u975E\u65B0\u54C1: $").concat(t.unNewProductSalesAmt," \u65B0\u54C1: $").concat(t.newProductSalesAmt,")</span>"),"<b>\u6708\u9500\u552E\u989D\u5360\u6BD4: </b><span>".concat(t.salesAmtRatio,"% (\u975E\u65B0\u54C1: ").concat(t.unNewProductSalesAmtRatio,"% \u65B0\u54C1: ").concat(t.newProductSalesAmtRatio,"%)</span>")];return y.join("<br/>")}}},m={metadata:n,sortKey:"salesAmt",groupKey:"Buybox\u5356\u5BB6",option:{title:"\u5356\u5BB6\u9500\u552E\u989D\u96C6\u4E2D\u5EA6",xAxisName:"\u5356\u5BB6",yAxisItemNames:["\u9500\u552E\u989D","\u9500\u552E\u989D\u5360\u6BD4"],legendData:["\u9500\u552E\u989D\u5360\u6BD4"],bar:{name:"\u9500\u552E\u989D",x:"group",y:"salesAmt"},line:{name:"\u9500\u552E\u989D\u5360\u6BD4",x:"group",y:"salesAmtRatio"},tooltipFormatter:function(f){var t=f[0].data,y=["<b>\u6392\u540D: </b><span>".concat(t.ranking,"</span>"),"<b>\u5356\u5BB6: </b><span>".concat(t.group,"</span>"),"<b>\u5546\u54C1\u6570\u91CF/\u65B0\u54C1\u6570\u91CF: </b><span>".concat(t.productCount,"/").concat(t.newProductCount,"</span>"),"<b>\u6708\u9500\u91CF: </b><span>".concat(t.salesCount," (\u975E\u65B0\u54C1: ").concat(t.unNewProductSalesCount," \u65B0\u54C1: ").concat(t.newProductSalesCount,")</span>"),"<b>\u6708\u9500\u91CF\u5360\u6BD4: </b><span>".concat(t.salesCountRatio,"% (\u975E\u65B0\u54C1: ").concat(t.unNewProductSalesCountRatio,"% \u65B0\u54C1: ").concat(t.newProductSalesCountRatio,"%)</span>"),"<b>\u6708\u9500\u552E\u989D: </b><span>$".concat(t.salesAmt," (\u975E\u65B0\u54C1: $").concat(t.unNewProductSalesAmt," \u65B0\u54C1: $").concat(t.newProductSalesAmt,")</span>"),"<b>\u6708\u9500\u552E\u989D\u5360\u6BD4: </b><span>".concat(t.salesAmtRatio,"% (\u975E\u65B0\u54C1: ").concat(t.unNewProductSalesAmtRatio,"% \u65B0\u54C1: ").concat(t.newProductSalesAmtRatio,"%)</span>")];return y.join("<br/>")}}};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(q,b()({},A)),(0,e.jsx)(q,b()({},m))]})},st=rt,ut=function(a,n,i,C,p,g){n.list||(n.list=[]),n.list[n.list.length]=i,n.salesRange=i[g]},it=function(a,n,i){a.salesCount===void 0&&(a.salesCount=0),a.salesAmt===void 0&&(a.salesAmt=0),a.list.forEach(function(C){var p=C.\u8FD130\u5929\u9500\u91CF;a.salesCount+=p;var g=C["\u8FD130\u5929\u9500\u552E\u989D($)"];a.salesAmt+=g}),a.salesRatio=Number((a.salesCount/n*100).toFixed(2)),a.salesAmtRatio=Number((a.salesAmt/i*100).toFixed(2))},aa,lt=function(a){var n=a.data;aa||(aa=new Set(n.map(function(s){return s.\u54C1\u724C})));var i=new Map;aa.forEach(function(s){return i.set(s,{})});var C=0,p=0;n.forEach(function(s){var f=s.\u8FD130\u5929\u9500\u91CF;C+=f;var t=s["\u8FD130\u5929\u9500\u552E\u989D($)"];p+=t}),n.forEach(function(s){var f=L()(i),t;try{for(f.s();!(t=f.n()).done;){var y=P()(t.value,2),F=y[0],x=y[1];s.\u54C1\u724C===F&&ut(F,x,s,C,p,"\u54C1\u724C")}}catch(w){f.e(w)}finally{f.f()}});var g=Array.from(i.values());g.map(function(s){it(s,C,p)}),console.log(g);var A={metadata:n,sortKey:"salesCount",groupKey:"\u54C1\u724C",option:{title:"\u54C1\u724C\u9500\u91CF\u96C6\u4E2D\u5EA6",xAxisName:"\u54C1\u724C",yAxisItemNames:["\u9500\u91CF","\u9500\u91CF\u5360\u6BD4"],legendData:["\u9500\u91CF\u5360\u6BD4"],bar:{name:"\u9500\u91CF",x:"group",y:"salesCount"},line:{name:"\u9500\u91CF\u5360\u6BD4",x:"group",y:"salesCountRatio"},tooltipFormatter:function(f){var t=f[0].data,y=["<b>\u6392\u540D: </b><span>".concat(t.ranking,"</span>"),"<b>\u5356\u5BB6: </b><span>".concat(t.group,"</span>"),"<b>\u5546\u54C1\u6570\u91CF/\u65B0\u54C1\u6570\u91CF: </b><span>".concat(t.productCount,"/").concat(t.newProductCount,"</span>"),"<b>\u6708\u9500\u91CF: </b><span>".concat(t.salesCount," (\u975E\u65B0\u54C1: ").concat(t.unNewProductSalesCount," \u65B0\u54C1: ").concat(t.newProductSalesCount,")</span>"),"<b>\u6708\u9500\u91CF\u5360\u6BD4: </b><span>".concat(t.salesCountRatio,"% (\u975E\u65B0\u54C1: ").concat(t.unNewProductSalesCountRatio,"% \u65B0\u54C1: ").concat(t.newProductSalesCountRatio,"%)</span>"),"<b>\u6708\u9500\u552E\u989D: </b><span>$".concat(t.salesAmt," (\u975E\u65B0\u54C1: $").concat(t.unNewProductSalesAmt," \u65B0\u54C1: $").concat(t.newProductSalesAmt,")</span>"),"<b>\u6708\u9500\u552E\u989D\u5360\u6BD4: </b><span>".concat(t.salesAmtRatio,"% (\u975E\u65B0\u54C1: ").concat(t.unNewProductSalesAmtRatio,"% \u65B0\u54C1: ").concat(t.newProductSalesAmtRatio,"%)</span>")];return y.join("<br/>")}}},m={metadata:n,sortKey:"salesAmt",groupKey:"\u54C1\u724C",option:{title:"\u54C1\u724C\u9500\u552E\u989D\u96C6\u4E2D\u5EA6",xAxisName:"\u54C1\u724C",yAxisItemNames:["\u9500\u552E\u989D","\u9500\u552E\u989D\u5360\u6BD4"],legendData:["\u9500\u552E\u989D\u5360\u6BD4"],bar:{name:"\u9500\u552E\u989D",x:"group",y:"salesAmt"},line:{name:"\u9500\u552E\u989D\u5360\u6BD4",x:"group",y:"salesAmtRatio"},tooltipFormatter:function(f){var t=f[0].data,y=["<b>\u6392\u540D: </b><span>".concat(t.ranking,"</span>"),"<b>\u5356\u5BB6: </b><span>".concat(t.group,"</span>"),"<b>\u5546\u54C1\u6570\u91CF/\u65B0\u54C1\u6570\u91CF: </b><span>".concat(t.productCount,"/").concat(t.newProductCount,"</span>"),"<b>\u6708\u9500\u91CF: </b><span>".concat(t.salesCount," (\u975E\u65B0\u54C1: ").concat(t.unNewProductSalesCount," \u65B0\u54C1: ").concat(t.newProductSalesCount,")</span>"),"<b>\u6708\u9500\u91CF\u5360\u6BD4: </b><span>".concat(t.salesCountRatio,"% (\u975E\u65B0\u54C1: ").concat(t.unNewProductSalesCountRatio,"% \u65B0\u54C1: ").concat(t.newProductSalesCountRatio,"%)</span>"),"<b>\u6708\u9500\u552E\u989D: </b><span>$".concat(t.salesAmt," (\u975E\u65B0\u54C1: $").concat(t.unNewProductSalesAmt," \u65B0\u54C1: $").concat(t.newProductSalesAmt,")</span>"),"<b>\u6708\u9500\u552E\u989D\u5360\u6BD4: </b><span>".concat(t.salesAmtRatio,"% (\u975E\u65B0\u54C1: ").concat(t.unNewProductSalesAmtRatio,"% \u65B0\u54C1: ").concat(t.newProductSalesAmtRatio,"%)</span>")];return y.join("<br/>")}}};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(q,b()({},A)),(0,e.jsx)(q,b()({},m))]})},ct=lt,dt=function(a){var n=[{label:"\u6708\u9500\u91CF",key:"MonthlySalesVolumeChart",children:(0,e.jsx)(La,{data:a.data})},{label:"\u6708\u9500\u552E\u989D",key:"MonthlySalesChart",children:(0,e.jsx)(Ga,{data:a.data})},{label:"rating\u6570",key:"RatingQuantityChart",children:(0,e.jsx)(Va,{data:a.data})},{label:"\u8BC4\u5206\u6570",key:"ScoreQuantityChart",children:(0,e.jsx)(Wa,{data:a.data})},{label:"\u4EF7\u683C",key:"PriceChart",children:(0,e.jsx)(Qa,{data:a.data})},{label:"\u4E0A\u67B6\u65F6\u95F4",key:"AddedTimeChart",children:(0,e.jsx)(Xa,{data:a.data})},{label:"\u5356\u5BB6\u7C7B\u578B",key:"SellerTypeChart",children:(0,e.jsx)(Ya,{data:a.data})},{label:"\u5546\u54C1\u96C6\u4E2D\u5EA6",key:"ProductConcentrationChart",children:(0,e.jsx)(_a,{data:a.data})},{label:"\u5356\u5BB6\u96C6\u4E2D\u5EA6",key:"SellerConcentrationChart",children:(0,e.jsx)(st,{data:a.data})},{label:"\u54C1\u724C\u96C6\u4E2D\u5EA6",key:"BrandConcentrationChart",children:(0,e.jsx)(ct,{data:a.data})}];return(0,e.jsx)(ra.Z,{defaultActiveKey:"1",centered:!0,items:n.map(function(i,C){return{label:i.label,key:i.key,children:i.children}})})},mt=dt,ft=B(72004),xa=B.n(ft),pt=B(12444),ya=B.n(pt),Ct=B(9783),R=B.n(Ct),ht=xa()(function E(){ya()(this,E),R()(this,"\u56FE\u7247",void 0),R()(this,"\u5546\u54C1",void 0),R()(this,"ASIN",void 0),R()(this,"PASIN",void 0),R()(this,"SKU",void 0),R()(this,"URL",void 0),R()(this,"\u5546\u54C1\u4E3B\u56FE",void 0),R()(this,"\u54C1\u724C",void 0),R()(this,"\u5546\u54C1\u6807\u9898",void 0),R()(this,"\u4E9A\u9A6C\u900A\u6807\u8BC6",void 0),R()(this,"\u7C7B\u76EE\u8DEF\u5F84",void 0),R()(this,"\u5927\u7C7B\u76EE",void 0),R()(this,"\u5927\u7C7BBSR",void 0),R()(this,"\u5C0F\u7C7B\u76EE",void 0),R()(this,"\u5C0F\u7C7BBSR",void 0),R()(this,"\u8FD130\u5929\u9500\u91CF",void 0),R()(this,"\u4EF7\u683C($)",void 0),R()(this,"\u6BDB\u5229\u7387",void 0),R()(this,"FBA($)",void 0),R()(this,"\u8BC4\u5206",void 0),R()(this,"\u8BC4\u5206\u6570",void 0),R()(this,"\u7559\u8BC4\u7387",void 0),R()(this,`\u6708\u65B0\u589E
\u8BC4\u5206\u6570`,void 0),R()(this,"Q&A\u6570",void 0),R()(this,"\u8BC4\u7EA7",void 0),R()(this,"\u4E0A\u67B6\u65F6\u95F4",void 0),R()(this,"\u4E0A\u67B6\u5929\u6570",void 0),R()(this,"\u53D8\u4F53\u6570",void 0),R()(this,"\u5356\u5BB6\u6570",void 0),R()(this,"Buybox\u5356\u5BB6",void 0),R()(this,"\u5356\u5BB6\u6240\u5C5E\u5730",void 0),R()(this,"\u5356\u5BB6\u4FE1\u606F",void 0),R()(this,"\u914D\u9001\u65B9\u5F0F",void 0),R()(this,"\u91CD\u91CF",void 0),R()(this,"\u4F53\u79EF",void 0),R()(this,"extends",void 0),this.\u56FE\u7247="",this.\u5546\u54C1="",this.ASIN="",this.PASIN="",this.SKU="",this.URL={text:""},this.\u5546\u54C1\u4E3B\u56FE={text:""},this.\u54C1\u724C="",this.\u5546\u54C1\u6807\u9898="",this.\u4E9A\u9A6C\u900A\u6807\u8BC6="",this.\u7C7B\u76EE\u8DEF\u5F84="",this.\u5927\u7C7B\u76EE="",this.\u5927\u7C7BBSR="",this.\u5C0F\u7C7B\u76EE="",this.\u5C0F\u7C7BBSR=0,this.\u8FD130\u5929\u9500\u91CF=0,this.\u6BDB\u5229\u7387="",this.\u8BC4\u5206=0,this.\u8BC4\u5206\u6570=0,this.\u7559\u8BC4\u7387="",this[`\u6708\u65B0\u589E
\u8BC4\u5206\u6570`]=0,this["Q&A\u6570"]=0,this.\u8BC4\u7EA7="",this.\u4E0A\u67B6\u65F6\u95F4="",this.\u4E0A\u67B6\u5929\u6570=0,this.\u53D8\u4F53\u6570=0,this.\u5356\u5BB6\u6570=0,this.Buybox\u5356\u5BB6="",this.\u5356\u5BB6\u6240\u5C5E\u5730="",this.\u5356\u5BB6\u4FE1\u606F="",this.\u914D\u9001\u65B9\u5F0F="",this.\u91CD\u91CF="",this.\u4F53\u79EF="",this.extends={isNewProduct:0}}),ta=xa()(function E(){ya()(this,E),R()(this,"columns",void 0),R()(this,"indexColumns",void 0),R()(this,"totalSalesCount",void 0),R()(this,"totalSalesAmount",void 0),R()(this,"data",void 0),R()(this,"source",void 0),this.columns=[],this.indexColumns=new Map,this.totalSalesCount=0,this.totalSalesAmount=0,this.source=[],this.data=[]}),vt=new ta;console.log(vt.columns);var xt=Pa.Z.Dragger,yt=function(){var E=Ba()(na()().mark(function a(n,i){return na()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.abrupt("return",n.arrayBuffer().then(function(g){var A=new(sa()).Workbook;return A.xlsx.load(g).then(function(){var m=i!==void 0?A.getWorksheet("US"):A.getWorksheet(1);if(m.rowCount<=1)return null;var s=new ta,f=m.getRow(1).values;return!(f instanceof Array)&&f.length===0?null:(s.columns=f,s.columns.forEach(function(t,y){s.indexColumns.set(y,t)}),m.eachRow({includeEmpty:!0},function(t,y){if(!(y<=1)){var F={};t.values.forEach(function(w,D){var N=s.indexColumns.get(D);N&&(F[N]=w)}),s.source.push(F);var x=new ht;H().assignWith(x,F,function(w,D){return oa()(w)===oa()(D)?D:w}),s.data.push(x)}}),s)})}));case 1:case"end":return p.stop()}},a)}));return function(n,i){return E.apply(this,arguments)}}(),gt=function(){var a=(0,Z.useState)(!1),n=P()(a,2),i=n[0],C=n[1],p=(0,Z.useState)(new Array),g=P()(p,2),A=g[0],m=g[1],s=(0,Z.useState)(new ta),f=P()(s,2),t=f[0],y=f[1],F={name:"file",accept:".xlsx",multiple:!0,itemRender:function(){return(0,e.jsx)("span",{})},onChange:function(N){var I=N.file.status;I!=="uploading"&&console.log(N.file,N.fileList),I==="done"?X.ZP.success("".concat(N.file.name," file uploaded successfully.")):I==="error"&&X.ZP.error("".concat(N.file.name," file upload failed."))},onDrop:function(N){console.log("Dropped files",N.dataTransfer.files)},customRequest:function(N){var I=N.file;if(I instanceof File){yt(I).then(function(o){y(o),console.log(o)}),C(!0);var j=new(sa()).Workbook;I.arrayBuffer().then(function(o){j.xlsx.load(o).then(function(){var r=j.getWorksheet("US"),l=r.getRow(1).values;if(l instanceof Array){console.log(l);var v=["\u8FD130\u5929\u9500\u91CF","\u8BC4\u5206\u6570","\u8FD130\u5929\u9500\u552E\u989D($)","\u8BC4\u5206"];r.eachRow({includeEmpty:!0},function(k,O){if(!(O<=1)){var d=k.values;if(d instanceof Array){var c={};d.forEach(function(h,u){var S=l[u];if(S){var M=h;if(v.includes(S))typeof M!="number"&&(M=0);else if(S==="\u4E0A\u67B6\u65F6\u95F4"){var $=Date.parse(h);c.timestamp=$}else S==="\u5356\u5BB6\u6240\u5C5E\u5730"&&!h&&(M="\u672A\u77E5");c[S]=M}}),A.push(c)}else A.push(d);A.forEach(function(h){v.forEach(function(u){h[u]===void 0&&(h[u]=0)})})}})}}).then(function(){console.log(A);var r=H().sortBy(A,"\u8FD130\u5929\u9500\u91CF").reverse();r.forEach(function(v,k){v.salesRanking=k+1});var l=H().sortBy(A,"\u8FD130\u5929\u9500\u552E\u989D($)").reverse();l.forEach(function(v,k){v.salesAmtRanking=k+1}),m(Sa()(A))})}),X.ZP.success("\u5BFC\u5165\u6210\u529F")}else X.ZP.error("\u5BFC\u5165\u5931\u8D25")}},x=function(N){console.log(N)},w=[{key:"table",label:"\u8868\u683C",children:(0,e.jsx)(Ia,{data:t})},{key:"charts",label:"\u56FE\u8868",children:(0,e.jsx)(mt,{data:A})}];return i?(0,e.jsxs)("div",{children:[(0,e.jsx)(ja.ZP,{type:"primary",onClick:function(){C(!1),m([])},children:"\u91CD\u65B0\u5BFC\u5165"}),(0,e.jsx)(ra.Z,{defaultActiveKey:"1",items:w,onChange:x})]}):(0,e.jsxs)(xt,b()(b()({},F),{},{children:[(0,e.jsx)("p",{className:"ant-upload-drag-icon",children:(0,e.jsx)(Ea.Z,{})}),(0,e.jsx)("p",{className:"ant-upload-text",children:"Click or drag file to this area to upload"}),(0,e.jsx)("p",{className:"ant-upload-hint",children:"Support for a single or bulk upload. Strictly prohibited from uploading company data or ot\xCFher banned files."})]}))},At=gt}}]);
