"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[740],{30354:function(wa,z,R){R.r(z),R.d(z,{default:function(){return Ma}});var X=R(97857),P=R.n(X),Y=R(19632),q=R.n(Y),_=R(5574),S=R.n(_),k=R(67294),aa=R(64082),ea=R(66476),$=R(2453),ta=R(49053),na=R(96695),N=R.n(na),oa=R(69400),V=R(78045),B=R(36934),s=R(85893),H=!1,ra=function(o){var j=new Array,y=(0,k.useState)({}),E=S()(y,2),C=E[0],w=E[1],A=(0,k.useState)(31104e6),d=S()(A,2),h=d[0],g=d[1];if(o.data&&o.data.list){var m=0,F=new Array;o.data.list.forEach(function(p){var f=p.\u8FD130\u5929\u9500\u91CF;m+=f,F[F.length]=f}),o.data.list.forEach(function(p){var f=p.\u8FD130\u5929\u9500\u91CF,c=p.salesRanking,v={};v.salesRanking=c,v.salesCount=f,v.salesRatio=Number((f/m*100).toFixed(2));var b=Date.now();b<=p.timestamp+h?v.newProduct=1:v.newProduct=0,v.data=p,j.push(v)})}return C={toolbox:{feature:{dataView:{show:!0,readOnly:!1},restore:{show:!0},saveAsImage:{show:!0}}},tooltip:{trigger:"axis",axisPointer:{type:"none",show:!1},formatter:function(f){var c=f[0].data,v=["<span>".concat(c.data.\u5546\u54C1\u6807\u9898,"</span>"),"<b>ASIN: </b><span>".concat(c.data.ASIN,"</span>"),"<b>\u54C1\u724C: </b><span>".concat(c.data.\u54C1\u724C,"</span>"),"<b>\u8FD130\u5929\u9500\u91CF: </b><span>".concat(c.data.\u8FD130\u5929\u9500\u91CF,"</span>"),"<b>\u8BC4\u5206/Rating: </b><span>".concat(c.data.\u8BC4\u5206,"/").concat(c.data.\u8BC4\u5206\u6570,"</span>"),"<b>\u8FD130\u5929\u9500\u552E\u989D($): </b><span>".concat(c.data["\u8FD130\u5929\u9500\u552E\u989D($)"],"</span>"),"<b>\u9500\u91CF\u6392\u540D: </b><span>".concat(c.salesRanking,"</span>"),"<b>\u5356\u5BB6\u4FE1\u606F: </b><span>".concat(c.data.\u5356\u5BB6\u4FE1\u606F.replace("\u516C\u53F8\u540D\u79F0\uFF1A","").replace(`
\u529E\u516C\u5730\u5740\uFF1A
`,"/").replaceAll(`
`,","),"</span>"),"<b>\u9500\u91CF\u5360\u6BD4: </b><span>".concat(c.salesRatio,"%</span>"),"<b>\u4EF7\u683C($): </b><span>".concat(c.data["\u4EF7\u683C($)"],"</span>"),"<b>\u4E0A\u67B6\u65F6\u95F4: </b><span>".concat(c.data.\u4E0A\u67B6\u65F6\u95F4,"</span>"),"<b>\u914D\u9001\u65B9\u5F0F: </b><span>".concat(c.data.\u914D\u9001\u65B9\u5F0F,"</span>")];return v.join("<br/>")},extraCssText:"max-width: 600px; white-space:pre-wrap"},legend:{data:["\u9500\u91CF\u5360\u6BD4"],selectedMode:!1},dataZoom:[{type:"inside"},{type:"slider"}],xAxis:[{name:"\u9500\u91CF\u6392\u540D",nameLocation:"start",nameGap:40,type:"category"}],yAxis:[{type:"value",name:"\u9500\u91CF"},{type:"value",name:"\u9500\u91CF\u5360\u6BD4",axisLabel:{formatter:"{value} %"}}],dataset:{source:j},visualMap:{type:"piecewise",show:!0,pieces:[{min:0,max:0,color:"#556fc5",label:"\u9500\u91CF"},{min:1,max:1,color:"#91cd77",label:"\u65B0\u54C1\u9500\u91CF"}],seriesIndex:0,dimension:3,orient:"horizontal",selectedMode:!1,hoverLink:!1,left:"auto",bottom:"auto",top:0,inRange:{color:"#91cd77"},outOfRange:{color:"#556fc5"}},series:[{name:"\u9500\u91CF",type:"bar",encode:{x:"salesRanking",y:"salesCount"}},{name:"\u9500\u91CF\u5360\u6BD4",type:"line",yAxisIndex:1,tooltip:{valueFormatter:function(f){return"".concat(f," %")}},encode:{x:"salesRanking",y:"salesRatio"}}]},(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)(oa.Z,P()(P()({},o),{},{footer:null,maskClosable:!1,afterOpenChange:function(f){f&&!H&&(H=!0,w(P()({},C)))},children:[(0,s.jsx)("div",{style:{overflow:"hidden",padding:"0 0 10px 0"},children:(0,s.jsxs)("div",{style:{float:"right",clear:"both"},children:[(0,s.jsx)("span",{children:"\u65B0\u54C1\u5B9A\u4E49\uFF1A"}),(0,s.jsxs)(V.ZP.Group,{size:"small",defaultValue:h,onChange:function(f){var c=f.target.value,v=Date.now();C.dataset.source.forEach(function(b){v<=b.timestamp+Number(c)?b.newProduct=1:b.newProduct=0}),g(Number(c)),w(P()({},C))},children:[(0,s.jsx)(V.ZP.Button,{value:31104e6,children:"\u6700\u8FD11\u5E74"}),(0,s.jsx)(V.ZP.Button,{value:15552e6,children:"\u6700\u8FD16\u4E2A\u6708"}),(0,s.jsx)(V.ZP.Button,{value:7776e6,children:"\u6700\u8FD13\u4E2A\u6708"})]})]})}),(0,s.jsx)(B.Z,{option:C,onChartReady:function(){return console.log("echarts ready ok")},onEvents:{click:function(f,c){console.log(f,c),window.open(f.data.data.URL.text,"_blank")}}})]}))})},L=ra,Q=function(o){return o.max?"".concat(o.min,"-").concat(o.max):"".concat(o.min,"+")},sa=function(o){var j=(0,k.useState)(!1),y=S()(j,2),E=y[0],C=y[1],w=function(){C(!0)},A=function(){C(!1)},d=[{min:0,max:99},{min:100,max:199},{min:200,max:299},{min:300,max:399},{min:400,max:499},{min:500,max:999},{min:1e3,max:1499},{min:1500,max:1999},{min:2e3,max:2999},{min:3e3,max:4999},{min:5e3,max:9999},{min:1e4}],h=new Map;d.forEach(function(t){return h.set(t,{})});var g=o.data,m=0;g.forEach(function(t){var a=t.\u8FD130\u5929\u9500\u91CF;m+=a}),g.forEach(function(t){var a=N()(h),r;try{var l=function(){var M=S()(r.value,2),n=M[0],e=M[1],u=t.\u8FD130\u5929\u9500\u91CF;if(n.min===n.max&&n.min==u||n.min!==void 0&&n.max!==void 0&&n.min<=u&&n.max>=u||n.min!==void 0&&n.max===void 0&&n.min>=u){e.list||(e.list=[]),e.list[e.list.length]=t,e.productCount||(e.productCount=0),e.productCount++,e.salesRange||(e.salesRange=Q(n));var i=0;e.list.forEach(function(D){var I=D.\u8FD130\u5929\u9500\u91CF;i+=I}),e.salesCount=i,e.salesRatio=Number((i/m*100).toFixed(2))}};for(a.s();!(r=a.n()).done;)l()}catch(x){a.e(x)}finally{a.f()}}),console.log("\u603B\u9500\u91CF ".concat(m));var F=Array.from(h.values()),p=(0,k.useState)({}),f=S()(p,2),c=f[0],v=f[1],b={tooltip:{trigger:"axis",axisPointer:{type:"cross",crossStyle:{color:"#999"}}},toolbox:{feature:{dataView:{show:!0,readOnly:!1},restore:{show:!0},saveAsImage:{show:!0}}},legend:{data:["\u4EA7\u54C1\u6570\u91CF","\u9500\u91CF\u5360\u6BD4"]},dataZoom:[{type:"inside"},{type:"slider"}],xAxis:[{name:"\u9500\u91CF\u533A\u95F4",nameLocation:"start",nameGap:40,type:"category",data:d.map(Q)}],yAxis:[{type:"value",name:"\u4EA7\u54C1\u6570\u91CF"},{type:"value",name:"\u9500\u91CF\u5360\u6BD4",axisLabel:{formatter:"{value} %"}}],dataset:{source:F},series:[{name:"\u4EA7\u54C1\u6570\u91CF",type:"bar",tooltip:{valueFormatter:function(a){return a}},encode:{x:"salesRange",y:"productCount"}},{name:"\u9500\u91CF\u5360\u6BD4",type:"line",yAxisIndex:1,tooltip:{valueFormatter:function(a){return a+" %"}},encode:{x:"salesRange",y:"salesRatio"}}]},Z=function(a,r){console.log(a,r),v(P()({},a.value)),w()};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(B.Z,{option:b,onChartReady:function(){return console.log("echarts ready ok")},onEvents:{click:Z}}),(0,s.jsx)(L,{title:"\u5546\u54C1\u5217\u8868",width:1200,open:E,onCancel:A,data:c})]})},la=sa,U=function(o){return o.max?"".concat(o.min,"-").concat(o.max):"".concat(o.min,"+")},ia=function(o){var j=(0,k.useState)(!1),y=S()(j,2),E=y[0],C=y[1],w=function(){C(!0)},A=function(){C(!1)},d=[{min:0,max:999},{min:1e3,max:4999},{min:5e3,max:9999},{min:1e4,max:19999},{min:2e4,max:49999},{min:5e4,max:99999},{min:1e5}],h=new Map;d.forEach(function(t){return h.set(t,{})});var g=o.data,m=0;g.forEach(function(t){var a=t.\u8FD130\u5929\u9500\u91CF;m+=a}),g.forEach(function(t){var a=N()(h),r;try{var l=function(){var M=S()(r.value,2),n=M[0],e=M[1],u=t["\u8FD130\u5929\u9500\u552E\u989D($)"];if(n.min===n.max&&n.min==u||n.min!==void 0&&n.max!==void 0&&n.min<=u&&n.max>=u||n.min!==void 0&&n.max===void 0&&n.min<=u){e.list||(e.list=[]),e.list[e.list.length]=t,e.productCount||(e.productCount=0),e.productCount++,e.salesRange||(e.salesRange=U(n));var i=0;e.list.forEach(function(D){var I=D.\u8FD130\u5929\u9500\u91CF;i+=I}),e.salesCount=i,e.salesRatio=Number((i/m*100).toFixed(2))}};for(a.s();!(r=a.n()).done;)l()}catch(x){a.e(x)}finally{a.f()}}),console.log("\u603B\u9500\u91CF ".concat(m));var F=Array.from(h.values()),p=(0,k.useState)({}),f=S()(p,2),c=f[0],v=f[1],b={tooltip:{trigger:"axis",axisPointer:{type:"cross",crossStyle:{color:"#999"}}},toolbox:{feature:{dataView:{show:!0,readOnly:!1},restore:{show:!0},saveAsImage:{show:!0}}},legend:{data:["\u4EA7\u54C1\u6570\u91CF","\u9500\u91CF\u5360\u6BD4"]},dataZoom:[{type:"inside"},{type:"slider"}],xAxis:[{name:"\u9500\u552E\u989D\u533A\u95F4",nameLocation:"start",nameGap:40,type:"category",data:d.map(U)}],yAxis:[{type:"value",name:"\u4EA7\u54C1\u6570\u91CF"},{type:"value",name:"\u9500\u91CF\u5360\u6BD4",axisLabel:{formatter:"{value} %"}}],dataset:{source:F},series:[{name:"\u4EA7\u54C1\u6570\u91CF",type:"bar",tooltip:{valueFormatter:function(a){return a}},encode:{x:"salesRange",y:"productCount"}},{name:"\u9500\u91CF\u5360\u6BD4",type:"line",yAxisIndex:1,tooltip:{valueFormatter:function(a){return a+" %"}},encode:{x:"salesRange",y:"salesRatio"}}]},Z=function(a,r){console.log(a,r),v(P()({},a.value)),w()};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(B.Z,{option:b,onChartReady:function(){return console.log("echarts ready ok")},onEvents:{click:Z}}),(0,s.jsx)(L,{title:"\u5546\u54C1\u5217\u8868",width:1200,open:E,onCancel:A,data:c})]})},ua=ia,W=function(o){return o.min===o.max?"".concat(o.min):o.max!==void 0?"".concat(o.min,"-").concat(o.max):"".concat(o.min,"+")},ca=function(o){var j=(0,k.useState)(!1),y=S()(j,2),E=y[0],C=y[1],w=function(){C(!0)},A=function(){C(!1)},d=[{min:0,max:0},{min:1,max:49},{min:50,max:99},{min:100,max:499},{min:500,max:999},{min:1e3,max:4999},{min:5e3,max:9999},{min:1e4}],h=new Map;d.forEach(function(t){return h.set(t,{})});var g=o.data,m=0;g.forEach(function(t){var a=t.\u8FD130\u5929\u9500\u91CF;m+=a}),g.forEach(function(t){var a=N()(h),r;try{var l=function(){var M=S()(r.value,2),n=M[0],e=M[1],u=t.\u8BC4\u5206\u6570;if(n.min===n.max&&n.min==u||n.min!==void 0&&n.max!==void 0&&n.min<=u&&n.max>=u||n.min!==void 0&&n.max===void 0&&n.min<=u){e.list||(e.list=[]),e.list[e.list.length]=t,e.productCount||(e.productCount=0),e.productCount++,e.salesRange||(e.salesRange=W(n));var i=0;e.list.forEach(function(D){var I=D.\u8FD130\u5929\u9500\u91CF;i+=I}),e.salesCount=i,e.salesRatio=Number((i/m*100).toFixed(2))}};for(a.s();!(r=a.n()).done;)l()}catch(x){a.e(x)}finally{a.f()}}),console.log("\u603B\u9500\u91CF ".concat(m));var F=Array.from(h.values()),p=(0,k.useState)({}),f=S()(p,2),c=f[0],v=f[1],b={tooltip:{trigger:"axis",axisPointer:{type:"cross",crossStyle:{color:"#999"}}},toolbox:{feature:{dataView:{show:!0,readOnly:!1},restore:{show:!0},saveAsImage:{show:!0}}},legend:{data:["\u4EA7\u54C1\u6570\u91CF","\u9500\u91CF\u5360\u6BD4"]},dataZoom:[{type:"inside"},{type:"slider"}],xAxis:[{name:"\u8BC4\u5206\u6570",nameLocation:"start",nameGap:40,type:"category",data:d.map(W)}],yAxis:[{type:"value",name:"\u4EA7\u54C1\u6570\u91CF"},{type:"value",name:"\u9500\u91CF\u5360\u6BD4",axisLabel:{formatter:"{value} %"}}],dataset:{source:F},series:[{name:"\u4EA7\u54C1\u6570\u91CF",type:"bar",tooltip:{valueFormatter:function(a){return a}},encode:{x:"salesRange",y:"productCount"}},{name:"\u9500\u91CF\u5360\u6BD4",type:"line",yAxisIndex:1,tooltip:{valueFormatter:function(a){return a+" %"}},encode:{x:"salesRange",y:"salesRatio"}}]},Z=function(a,r){console.log(a,r),v(P()({},a.value)),w()};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(B.Z,{option:b,onChartReady:function(){return console.log("echarts ready ok")},onEvents:{click:Z}}),(0,s.jsx)(L,{title:"\u5546\u54C1\u5217\u8868",width:1200,open:E,onCancel:A,data:c})]})},da=ca,K=function(o){return o.max?"".concat(o.min,"-").concat(o.max):"".concat(o.min,"+")},ma=function(o){var j=(0,k.useState)(!1),y=S()(j,2),E=y[0],C=y[1],w=function(){C(!0)},A=function(){C(!1)},d=[{min:0,max:1.9},{min:2,max:2.9},{min:3,max:3.9},{min:4,max:4.4},{min:4.5}],h=new Map;d.forEach(function(t){return h.set(t,{})});var g=o.data,m=0;g.forEach(function(t){var a=t.\u8FD130\u5929\u9500\u91CF;m+=a}),g.forEach(function(t){var a=N()(h),r;try{var l=function(){var M=S()(r.value,2),n=M[0],e=M[1],u=t.\u8BC4\u5206;if(n.min===n.max&&n.min==u||n.min!==void 0&&n.max!==void 0&&n.min<=u&&n.max>=u||n.min!==void 0&&n.max===void 0&&n.min<=u){e.list||(e.list=[]),e.list[e.list.length]=t,e.productCount||(e.productCount=0),e.productCount++,e.salesRange||(e.salesRange=K(n));var i=0;e.list.forEach(function(D){var I=D.\u8FD130\u5929\u9500\u91CF;i+=I}),e.salesCount=i,e.salesRatio=Number((i/m*100).toFixed(2))}};for(a.s();!(r=a.n()).done;)l()}catch(x){a.e(x)}finally{a.f()}}),console.log("\u603B\u9500\u91CF ".concat(m));var F=Array.from(h.values()),p=(0,k.useState)({}),f=S()(p,2),c=f[0],v=f[1],b={tooltip:{trigger:"axis",axisPointer:{type:"cross",crossStyle:{color:"#999"}}},toolbox:{feature:{dataView:{show:!0,readOnly:!1},restore:{show:!0},saveAsImage:{show:!0}}},legend:{data:["\u4EA7\u54C1\u6570\u91CF","\u9500\u91CF\u5360\u6BD4"]},dataZoom:[{type:"inside"},{type:"slider"}],xAxis:[{name:"\u8BC4\u5206\u6570",nameLocation:"start",nameGap:40,type:"category",data:d.map(K)}],yAxis:[{type:"value",name:"\u4EA7\u54C1\u6570\u91CF"},{type:"value",name:"\u9500\u91CF\u5360\u6BD4",axisLabel:{formatter:"{value} %"}}],dataset:{source:F},series:[{name:"\u4EA7\u54C1\u6570\u91CF",type:"bar",tooltip:{valueFormatter:function(a){return a}},encode:{x:"salesRange",y:"productCount"}},{name:"\u9500\u91CF\u5360\u6BD4",type:"line",yAxisIndex:1,tooltip:{valueFormatter:function(a){return a+" %"}},encode:{x:"salesRange",y:"salesRatio"}}]},Z=function(a,r){console.log(a,r),v(P()({},a.value)),w()};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(B.Z,{option:b,onChartReady:function(){return console.log("echarts ready ok")},onEvents:{click:Z}}),(0,s.jsx)(L,{title:"\u5546\u54C1\u5217\u8868",width:1200,open:E,onCancel:A,data:c})]})},fa=ma,J=function(o){return o.max?"".concat(o.min,"-").concat(o.max):"".concat(o.min,"+")},va=function(o){var j=(0,k.useState)(!1),y=S()(j,2),E=y[0],C=y[1],w=function(){C(!0)},A=function(){C(!1)},d=[{min:0,max:9.99},{min:10,max:19.99},{min:20,max:29.99},{min:30,max:39.99},{min:40,max:49.99},{min:50,max:74.99},{min:75,max:99.99},{min:100,max:149.99},{min:150,max:199.99},{min:200,max:299.99},{min:300}],h=new Map;d.forEach(function(r){return h.set(r,{})});var g=o.data,m=0,F=g.length,p=0;g.forEach(function(r){var l=r.\u8FD130\u5929\u9500\u91CF;m+=l;var x=Number(r["\u8FD130\u5929\u9500\u552E\u989D($)"]);p+=x}),g.forEach(function(r){var l=N()(h),x;try{var M=function(){var e=S()(x.value,2),u=e[0],i=e[1],D=r["\u4EF7\u683C($)"];if(u.min===u.max&&u.min==D||u.min!==void 0&&u.max!==void 0&&u.min<=D&&u.max>=D||u.min!==void 0&&u.max===void 0&&u.min<=D){i.list||(i.list=[]),i.list[i.list.length]=r,i.productCount||(i.productCount=0),i.productCount++,i.salesRange||(i.salesRange=J(u));var I=0,T=0;i.list.forEach(function(G){var ja=G.\u8FD130\u5929\u9500\u91CF,Ea=Number(G["\u8FD130\u5929\u9500\u552E\u989D($)"]);I+=ja,T+=Ea}),i.salesCount=I,i.salesRatio=Number((I/m*100).toFixed(2)),i.productCountRatio=Number((i.productCount/F*100).toFixed(2)),i.salesAmtRatio=Number((T/p*100).toFixed(2))}};for(l.s();!(x=l.n()).done;)M()}catch(n){l.e(n)}finally{l.f()}}),console.log("\u603B\u9500\u91CF ".concat(m));var f=Array.from(h.values()),c=(0,k.useState)({}),v=S()(c,2),b=v[0],Z=v[1],t={tooltip:{trigger:"axis",axisPointer:{type:"cross",crossStyle:{color:"#999"}}},toolbox:{feature:{dataView:{show:!0,readOnly:!1},restore:{show:!0},saveAsImage:{show:!0}}},legend:{data:["\u4EA7\u54C1\u6570\u91CF","\u9500\u91CF\u5360\u6BD4","\u6570\u91CF\u5360\u6BD4","\u9500\u552E\u989D\u5360\u6BD4"]},dataZoom:[{type:"inside"},{type:"slider"}],xAxis:[{name:"\u4EF7\u683C($)",nameLocation:"start",nameGap:40,type:"category",data:d.map(J)}],yAxis:[{type:"value",name:"\u4EA7\u54C1\u6570\u91CF"},{type:"value",name:"\u9500\u91CF\u5360\u6BD4",axisLabel:{formatter:"{value} %"}}],dataset:{source:f},series:[{name:"\u4EA7\u54C1\u6570\u91CF",type:"bar",tooltip:{valueFormatter:function(l){return l}},encode:{x:"salesRange",y:"productCount"}},{name:"\u9500\u91CF\u5360\u6BD4",type:"line",yAxisIndex:1,tooltip:{valueFormatter:function(l){return l+" %"}},encode:{x:"salesRange",y:"salesRatio"}},{name:"\u6570\u91CF\u5360\u6BD4",type:"line",yAxisIndex:1,tooltip:{valueFormatter:function(l){return l+" %"}},encode:{x:"salesRange",y:"productCountRatio"}},{name:"\u9500\u552E\u989D\u5360\u6BD4",type:"line",yAxisIndex:1,tooltip:{valueFormatter:function(l){return l+" %"}},encode:{x:"salesRange",y:"salesAmtRatio"}}]},a=function(l,x){console.log(l,x),Z(P()({},l.value)),w()};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(B.Z,{option:t,onChartReady:function(){return console.log("echarts ready ok")},onEvents:{click:a}}),(0,s.jsx)(L,{title:"\u5546\u54C1\u5217\u8868",width:1200,open:E,onCancel:A,data:b})]})},pa=va,xa=function(o){var j=(0,k.useState)(!1),y=S()(j,2),E=y[0],C=y[1],w=function(){C(!0)},A=function(){C(!1)},d=60*60*24*30*1e3,h=[{min:0,max:d-1,title:"\u4E00\u4E2A\u6708"},{min:d,max:d*3-1,title:"3\u4E2A\u6708"},{min:d*3,max:d*6-1,title:"\u534A\u5E74"},{min:d*6,max:d*12-1,title:"1\u5E74"},{min:d*12,max:d*18-1,title:"1\u5E74\u534A"},{min:d*18,max:d*24-1,title:"2\u5E74"},{min:d*24,max:d*30-1,title:"2\u5E74\u534A"},{min:d*30,max:d*36-1,title:"3\u5E74"},{min:d*36,title:"3\u5E74\u4EE5\u4E0A"}],g=new Map;h.forEach(function(r){return g.set(r,{})});var m=o.data,F=0;m.forEach(function(r){var l=r.\u8FD130\u5929\u9500\u91CF;F+=l});var p=Date.now();m.forEach(function(r){var l=N()(g),x;try{var M=function(){var e=S()(x.value,2),u=e[0],i=e[1],D=p-r.timestamp;if(u.min===u.max&&u.min==D||u.min!==void 0&&u.max!==void 0&&u.min<=D&&u.max>=D||u.min!==void 0&&u.max===void 0&&u.min<=D){i.list||(i.list=[]),i.list[i.list.length]=r,i.productCount||(i.productCount=0),i.productCount++,i.salesRange||(i.salesRange=u.title);var I=0;i.list.forEach(function(T){var G=T.\u8FD130\u5929\u9500\u91CF;I+=G}),i.salesCount=I,i.salesRatio=Number((I/F*100).toFixed(2))}};for(l.s();!(x=l.n()).done;)M()}catch(n){l.e(n)}finally{l.f()}}),console.log("\u603B\u9500\u91CF ".concat(F));var f=Array.from(g.values()),c=(0,k.useState)({}),v=S()(c,2),b=v[0],Z=v[1],t={tooltip:{trigger:"axis",axisPointer:{type:"cross",crossStyle:{color:"#999"}}},toolbox:{feature:{dataView:{show:!0,readOnly:!1},restore:{show:!0},saveAsImage:{show:!0}}},legend:{data:["\u4EA7\u54C1\u6570\u91CF","\u9500\u91CF\u5360\u6BD4"]},dataZoom:[{type:"inside"},{type:"slider"}],xAxis:[{name:"\u4EF7\u683C($)",nameLocation:"start",nameGap:40,type:"category",data:h.map(function(r){return r.title})}],yAxis:[{type:"value",name:"\u4EA7\u54C1\u6570\u91CF"},{type:"value",name:"\u9500\u91CF\u5360\u6BD4",axisLabel:{formatter:"{value} %"}}],dataset:{source:f},series:[{name:"\u4EA7\u54C1\u6570\u91CF",type:"bar",tooltip:{valueFormatter:function(l){return l}},encode:{x:"salesRange",y:"productCount"}},{name:"\u9500\u91CF\u5360\u6BD4",type:"line",yAxisIndex:1,tooltip:{valueFormatter:function(l){return l+" %"}},encode:{x:"salesRange",y:"salesRatio"}}]},a=function(l,x){console.log(l,x),Z(P()({},l.value)),w()};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(B.Z,{option:t,onChartReady:function(){return console.log("echarts ready ok")},onEvents:{click:a}}),(0,s.jsx)(L,{title:"\u5546\u54C1\u5217\u8868",width:1200,open:E,onCancel:A,data:b})]})},ha=xa,ya=function(o){var j=[{label:"\u6708\u9500\u91CF",key:"MonthlySalesVolumeChart",children:(0,s.jsx)(la,{data:o.data})},{label:"\u6708\u9500\u552E\u989D",key:"MonthlySalesChart",children:(0,s.jsx)(ua,{data:o.data})},{label:"rating\u6570",key:"RatingQuantityChart",children:(0,s.jsx)(da,{data:o.data})},{label:"\u8BC4\u5206\u6570",key:"ScoreQuantityChart",children:(0,s.jsx)(fa,{data:o.data})},{label:"\u4EF7\u683C",key:"PriceChart",children:(0,s.jsx)(pa,{data:o.data})},{label:"\u4E0A\u67B6\u65F6\u95F4",key:"AddedTimeChart",children:(0,s.jsx)(ha,{data:o.data})}];return(0,s.jsx)(ta.Z,{defaultActiveKey:"1",centered:!0,items:j.map(function(y,E){return{label:y.label,key:y.key,children:y.children}})})},Ca=ya,ga=R(74295),Ra=R.n(ga),Fa=R(96486),Sa=R.n(Fa),ba=ea.Z.Dragger,Aa=function(){var o=(0,k.useState)(!1),j=S()(o,2),y=j[0],E=j[1],C=(0,k.useState)(new Array),w=S()(C,2),A=w[0],d=w[1],h={name:"file",accept:".xlsx",multiple:!0,itemRender:function(){return(0,s.jsx)("span",{})},onChange:function(m){var F=m.file.status;F!=="uploading"&&console.log(m.file,m.fileList),F==="done"?$.ZP.success("".concat(m.file.name," file uploaded successfully.")):F==="error"&&$.ZP.error("".concat(m.file.name," file upload failed."))},onDrop:function(m){console.log("Dropped files",m.dataTransfer.files)},customRequest:function(m){var F=m.file;if(F instanceof File){E(!0);var p=new(Ra()).Workbook;F.arrayBuffer().then(function(f){p.xlsx.load(f).then(function(){var c=p.getWorksheet("US"),v=c.getRow(1).values;if(v instanceof Array){console.log(v);var b=["\u8FD130\u5929\u9500\u91CF","\u8BC4\u5206\u6570","\u8FD130\u5929\u9500\u552E\u989D($)","\u8BC4\u5206"];c.eachRow({includeEmpty:!0},function(Z,t){if(!(t<=1)){var a=Z.values;if(a instanceof Array){var r={};a.forEach(function(l,x){var M=v[x];if(M){var n=l;if(b.includes(M))typeof n!="number"&&(n=0);else if(M==="\u4E0A\u67B6\u65F6\u95F4"){var e=Date.parse(l);r.timestamp=e}r[M]=n}}),A.push(r)}else A.push(a);A.forEach(function(l){b.forEach(function(x){l[x]===void 0&&(l[x]=0)})})}})}}).then(function(){console.log(A);var c=Sa().sortBy(A,"\u8FD130\u5929\u9500\u91CF").reverse();c.forEach(function(v,b){v.salesRanking=b+1}),d(q()(c))})}),$.ZP.success("\u5BFC\u5165\u6210\u529F")}else $.ZP.error("\u5BFC\u5165\u5931\u8D25")}};return y?(0,s.jsx)(Ca,{data:A}):(0,s.jsxs)(ba,P()(P()({},h),{},{children:[(0,s.jsx)("p",{className:"ant-upload-drag-icon",children:(0,s.jsx)(aa.Z,{})}),(0,s.jsx)("p",{className:"ant-upload-text",children:"Click or drag file to this area to upload"}),(0,s.jsx)("p",{className:"ant-upload-hint",children:"Support for a single or bulk upload. Strictly prohibited from uploading company data or ot\xCFher banned files."})]}))},Ma=Aa}}]);
